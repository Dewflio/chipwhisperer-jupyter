
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>Contributing &#8212; ChipWhisperer 5.7.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css" />
    <link rel="stylesheet" type="text/css" href="_static/custom.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinxcontrib-images/LightBox2/lightbox2/dist/css/lightbox.css" />
    <link rel="stylesheet" type="text/css" href="_static/backup.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinxcontrib-images/LightBox2/lightbox2/dist/js/lightbox-plus-jquery.min.js"></script>
    <script src="_static/sphinxcontrib-images/LightBox2/lightbox2-customize/jquery-noconflict.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Change Log" href="changes.html" />
    <link rel="prev" title="ChipWhisperer Logging" href="logging.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<p class="logo">
  <a href="index.html">
    <img class="logo" src="_static/logo.png" alt="Logo"/>
    
    <h1 class="logo logo-name">ChipWhisperer</h1>
    
  </a>
</p>



<p class="blurb">Side-Channel analysis tool-chain.</p>









  <div>
    <h3><a href="index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">Contributing</a><ul>
<li><a class="reference internal" href="#hardware">Hardware</a></li>
<li><a class="reference internal" href="#software">Software</a><ul>
<li><a class="reference internal" href="#scopes">Scopes</a></li>
<li><a class="reference internal" href="#targets">Targets</a></li>
<li><a class="reference internal" href="#software-documentation">Software Documentation</a></li>
</ul>
</li>
<li><a class="reference internal" href="#testing">Testing</a><ul>
<li><a class="reference internal" href="#jupyter-notebooks">Jupyter Notebooks</a><ul>
<li><a class="reference internal" href="#creating-editing">Creating / Editing</a></li>
<li><a class="reference internal" href="#tutorials-test-export-system">Tutorials Test/Export System</a></li>
<li><a class="reference internal" href="#running-tutorial-tests-export-individually">Running Tutorial Tests/Export Individually</a></li>
</ul>
</li>
<li><a class="reference internal" href="#unit-tests">Unit Tests</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="contributing">
<h1>Contributing<a class="headerlink" href="#contributing" title="Permalink to this heading">¶</a></h1>
<p>If you’re curious about contributing to ChipWhisperer, be it software or
hardware, this is the document for you!</p>
<p>The ChipWhisperer
<a class="reference external" href="https://github.com/newaetech/chipwhisperer">software</a> is documented
using sphinx and lives on ReadTheDocs. However, NewAE Technology
Inc. also develops hardware for side-channel analysis and embedded
hardware security fun. The documentation for the hardware is on a
<a class="reference external" href="https://rtfm.newae.com">separate site</a>. The tutorials are also
located on ReadTheDocs and are auto-generated based on the jupyter
notebooks.</p>
<p>Contribution to the project is always welcome. We are a small team and
fixing everything right away or making those enhancements you dream of
are often a game of managing priorities. If there is a feature you would
like to help with, let us know. If you would like to start out small and
get familiar with the project whilst contributing, there are always ways
the software documentation could be improved. The software docs are all
on github. You can fork the <strong>chipwhisperer</strong> repository make changes
and then take out a pull request. We will discuss the changes then.</p>
<section id="hardware">
<h2>Hardware<a class="headerlink" href="#hardware" title="Permalink to this heading">¶</a></h2>
<p>We’re not currently accepting direct modifications to our hardware docs,
but may in the future. For now, please make a thread on our
<a class="reference external" href="https://forum.newae.com">forums</a></p>
</section>
<section id="software">
<h2>Software<a class="headerlink" href="#software" title="Permalink to this heading">¶</a></h2>
<p>Our source code can be found the <a class="reference external" href="https://github.com/newaetech/chipwhisperer">ChipWhisperer GitHub
Repository</a>. Issues and
enhancements being worked on can be found in our <a class="reference external" href="https://github.com/newaetech/chipwhisperer/issues">GitHub issue
tracker</a>. If you
need ideas about what to work on, this is the place to go. Development
of <code class="docutils literal notranslate"><span class="pre">ChipWhisperer</span></code> takes place on the <code class="docutils literal notranslate"><span class="pre">develop</span></code> branch. Every
release, <code class="docutils literal notranslate"><span class="pre">develop</span></code> is merged into <code class="docutils literal notranslate"><span class="pre">master</span></code>.</p>
<p>In general, we prefer methods, functions, variables, and modules to be
in <code class="docutils literal notranslate"><span class="pre">snake_case</span></code> instead of <code class="docutils literal notranslate"><span class="pre">camelCase</span></code>. You’ll see a lot of
<code class="docutils literal notranslate"><span class="pre">camelCase</span></code> scattered throughout the code as this was preferred before
ChipWhisperer 5, but all public facing code - what’s documented in the
API - is now <code class="docutils literal notranslate"><span class="pre">snake_case</span></code>. Class names should be in <code class="docutils literal notranslate"><span class="pre">PascalCase</span></code>.
Docstrings should be in the Google style. Besides that, there aren’t too
many requirements for small fixes and additions.</p>
<p>For larger additions (such as adding a whole new scope or target), we
have a few requirements. Arguments that must be present, but can be
ignored, are indicated as well. For example, <code class="docutils literal notranslate"><span class="pre">scope._con()</span></code> must have
an <code class="docutils literal notranslate"><span class="pre">sn</span></code> parameter, but the method doesn’t need to do anything with the
value and as such may be ignored.</p>
<section id="scopes">
<h3>Scopes<a class="headerlink" href="#scopes" title="Permalink to this heading">¶</a></h3>
<p>Scopes can have a wide variety of features. As such, there are only a
few additional requirements:</p>
<p>Must inherit the <code class="docutils literal notranslate"><span class="pre">ScopeTemplate</span></code> object located in
<code class="docutils literal notranslate"><span class="pre">chipwhisperer.capture.scopes.base</span></code> and must implement the following
methods:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">_con</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sn</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Connects to the scope. May also be called con().</span>

<span class="sd">    Args:</span>
<span class="sd">        sn (str): Unique identifier for the device. May be ignored, must be optional</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="o">...</span>

  <span class="k">def</span> <span class="nf">_dis</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Disconnects from the scope. May also be called dis().</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>The following methods are required for a scope to be used with
<code class="docutils literal notranslate"><span class="pre">cw.capture_trace()</span></code> and otherwise recommended:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">arm</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Prepares the scope to capture a power trace&quot;&quot;&quot;</span>
    <span class="o">...</span>

<span class="k">def</span> <span class="nf">capture</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Reads power trace data from the scope.</span>

<span class="sd">    Returns:</span>
<span class="sd">        False upon success and True upon failure</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="o">...</span>

<span class="k">def</span> <span class="nf">get_last_trace</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Returns the scope data read by capture()</span>

<span class="sd">    Returns:</span>
<span class="sd">        A numpy array containing the scope data.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="o">...</span>
</pre></div>
</div>
</section>
<section id="targets">
<h3>Targets<a class="headerlink" href="#targets" title="Permalink to this heading">¶</a></h3>
<p>Targets must inherit the <code class="docutils literal notranslate"><span class="pre">TargetTemplate</span></code> object located in
<code class="docutils literal notranslate"><span class="pre">chipwhisperer.capture.targets._base</span></code> and must implement the following
methods:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">_con</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">scope</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot; Connects to the target. May also be called `con`. Will be passed **kwargs from `cw.target()`.</span>

<span class="sd">    Args:</span>
<span class="sd">        scope (CW scope object): May be ignored</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="o">...</span>

<span class="k">def</span> <span class="nf">_dis</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot; Disconnects from the target. May also be called `dis`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>The following methods are optional as not all targets will be able to
implement them (for example, public crypto may not be able to transmit a
message/key in a single command as required by
<code class="docutils literal notranslate"><span class="pre">simpleserial_write()</span></code>). These methods, however, are required for a
target to be used with <code class="docutils literal notranslate"><span class="pre">cw.capture_target()</span></code> and should be implemented
as specified.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">set_key</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">ack</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot; Sets the encryption key on the target. Should not resend the key</span>
<span class="sd">    to the target if key is the same as the one previously sent by this method.</span>

<span class="sd">    Args:</span>
<span class="sd">        key (bytearray): The key to be sent to the target. Must not be ignored.</span>
<span class="sd">        ack (bool): Whether or not to wait for an ack by the target. May be ignored. Must be optional.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="o">...</span>

<span class="k">def</span> <span class="nf">simpleserial_write</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cmd</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">end</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot; Sends a command to the target, along with data.</span>

<span class="sd">    Args:</span>
<span class="sd">        cmd (str): The command to send to the target. Must accept</span>
<span class="sd">        `&#39;k&#39;` for sending a key and `&#39;p&#39;` for sending input.</span>
<span class="sd">        Must not be ignored.</span>
<span class="sd">        data (bytearray): The data to send to the target as part of cmd.</span>
<span class="sd">        Must not be ignored</span>
<span class="sd">        end (str): A terminator for the end of the command.</span>
<span class="sd">        May be ignored. Must be optional.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="o">...</span>

<span class="k">def</span> <span class="nf">simpleserial_read</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cmd</span><span class="p">,</span> <span class="n">pay_len</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">timeout</span><span class="p">,</span> <span class="n">ack</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot; Reads a response from the target.</span>

<span class="sd">    Args:</span>
<span class="sd">        cmd (str): The command to expect from the target. Must accept</span>
<span class="sd">        &#39;r&#39; for a response after sending &#39;p&#39;. May be ignored.</span>
<span class="sd">        pay_len (int): The length of the expected response from the target.</span>
<span class="sd">        May be ignored.</span>
<span class="sd">        end (str): The expected termination to the response. May be ignored.</span>
<span class="sd">        Must be optional.</span>
<span class="sd">        timeout (int): A timeout value for the read. May be ignored.</span>
<span class="sd">        Must be optional.</span>
<span class="sd">        ack (bool): Whether or not to expect an ack at the end of the message.</span>
<span class="sd">        May be ignored. Must be optional.</span>

<span class="sd">    Returns:</span>
<span class="sd">      Must return the response as a bytearray not including cmd, end, or the ack.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="o">...</span>

<span class="k">def</span> <span class="nf">is_done</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Indicates whether or not the target is finished its operation.</span>

<span class="sd">    Returns:</span>
<span class="sd">        True if the target is finished, False if it isn&#39;t. May immediately return True if</span>
<span class="sd">        a successful scope.capture() indicates that the device is finished its operation.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="o">...</span>
</pre></div>
</div>
</section>
<section id="software-documentation">
<h3>Software Documentation<a class="headerlink" href="#software-documentation" title="Permalink to this heading">¶</a></h3>
<p>The software documentation is written using Sphinx. Building the
documentation requires sphinx, sphinx images and pypandoc. This can be
installed using</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python<span class="w"> </span>-m<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>sphinx
python<span class="w"> </span>-m<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>sphinxcontrib-images
python<span class="w"> </span>-m<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>pypandoc
</pre></div>
</div>
<p>You can then navigate to the <code class="docutils literal notranslate"><span class="pre">chipwhisperer/docs</span></code> folder and run</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>make<span class="w"> </span>html
</pre></div>
</div>
<p>This command does a few things:</p>
<ul>
<li><p>Loads the sphinx configuration file.</p></li>
<li><p>Runs a build hook called <code class="docutils literal notranslate"><span class="pre">create_tutorial_files</span></code> it can be found in
the <code class="docutils literal notranslate"><span class="pre">conf.py</span></code> file in the <code class="docutils literal notranslate"><span class="pre">docs/</span></code> folder. The function copies
over the <code class="docutils literal notranslate"><span class="pre">img</span></code> directory from the <code class="docutils literal notranslate"><span class="pre">tutorials/</span></code> directory into the
<code class="docutils literal notranslate"><span class="pre">docs/tutorials</span></code> folder. It then creates auto-linked tutorial files
in the <code class="docutils literal notranslate"><span class="pre">docs/tutorials</span></code> for every tutorials in the <code class="docutils literal notranslate"><span class="pre">tutorials</span></code>
submodule, based on the tutorial id, scope and target.</p>
<p>This function also deletes the <code class="docutils literal notranslate"><span class="pre">docs/tutorials/img</span></code>, and removes
all <code class="docutils literal notranslate"><span class="pre">.rst</span></code> files in the <code class="docutils literal notranslate"><span class="pre">docs/tutorials</span></code> folder. It is better not
to put anything in these folders unless it is auto-generated each
time the build is run.</p>
<p>You should see the <strong>Generating tutorial stubs with links…</strong> message
from the build hook as part of the build.</p>
</li>
<li><p>Runs a build hook called <code class="docutils literal notranslate"><span class="pre">generate_contributing</span></code>, which downloads
and installs pandoc using pypandoc, and converts this document into
an <code class="docutils literal notranslate"><span class="pre">.rst</span></code> file for inclusion in the sphinx build.</p></li>
<li><p>Carries out the rest of the normal sphinx build process.</p></li>
</ul>
<p>This will build the documentation in html form. You can then navigate to
the <code class="docutils literal notranslate"><span class="pre">_build</span></code> directory and open <code class="docutils literal notranslate"><span class="pre">index.html</span></code>. This should open the
website in your browser.</p>
<p>Contribution to the documentation is always welcome. To see the effect
of changes to the documentation it needs to be rebuilt after each
change. This is done using the sphinx-build command. When contributing
to the documentation here are some rough guidelines to follow:</p>
<ul>
<li><p>All directive blocks are indented by four spaces. This makes life
easier when the text editor you are using is already set for four
spaces because of python. For example:</p>
<div class="highlight-rest notranslate"><div class="highlight"><pre><span></span>|.. note::
<span class="o">|</span>    A note to the user.
</pre></div>
</div>
</li>
<li><p>Indent unnumbered lists with two spaces and a space after the symbol.
So that the text block starts at column five. Example:</p>
<div class="highlight-rest notranslate"><div class="highlight"><pre><span></span><span class="o">|</span>  * list item 1
<span class="o">|</span>  * list item 2
</pre></div>
</div>
</li>
<li><p>Indent numbered lists with one space, then a period and a space.
Example:</p>
<div class="highlight-rest notranslate"><div class="highlight"><pre><span></span><span class="o">|</span> #. numbered list item 1
<span class="o">|</span> #. numbered list item 2
<span class="o">|</span>    Continuation of code block.
</pre></div>
</div>
</li>
<li><p>We use <strong>autodocs</strong> for our API documentation, however to get the
documentation of the api to look clean a lot of the module and class
paths have to be manually specified.</p></li>
<li><p>When using <strong>autodoc</strong> do not use the <strong>autoproperty</strong> directive for
properties. Just use <strong>autoattribute</strong>. <strong>autoproperty</strong> causes
errors on ReadtheDocs.</p></li>
<li><p>Follow the <a class="reference external" href="https://www.sphinx-doc.org/en/1.5/ext/example_google.html">google style
guide</a>
for docstrings this makes the documentation easier to read while
looking at the source code.</p></li>
<li><p>Keep in mind that people will be reading both the generated
documentation and the source code. Don’t make either one too painful
to read. This happens a lot with links to other functions. Links help
readers of the generated documentation but look quite verbose in the
source code. Find a balance.</p></li>
<li><p>When adding section links, try to make them intuitive with the header
and toctree hierarchy. For example: if a file named <strong>info.rst</strong> has
a header <strong>Additional Information</strong> a good section link would be:</p>
<div class="highlight-rest notranslate"><div class="highlight"><pre><span></span><span class="cp">.. info-additional_information:</span>

<span class="gh">**********************</span>
<span class="gh">Additional Information</span>
<span class="gh">**********************</span>
</pre></div>
</div>
<p>There are lots of examples throughout the documentation.</p>
</li>
<li><p>Use this header structure for documentation:</p>
<ul class="simple">
<li><p># with overline, for parts</p></li>
<li><p>* with overline, for chapters</p></li>
<li><p>=, for sections</p></li>
<li><p>-, for subsections</p></li>
<li><p>^, for subsubsections</p></li>
<li><p>“, for paragraphs</p></li>
</ul>
</li>
</ul>
<p>A few useful resources:</p>
<ul class="simple">
<li><p><a class="reference external" href="http://openalea.gforge.inria.fr/doc/openalea/doc/_build/html/source/sphinx/rest_syntax.html">Restructured Text and Sphinx
CheatSheet</a></p></li>
<li><p><a class="reference external" href="https://www.sphinx-doc.org/en/1.5/ext/example_google.html">Example Doc Strings (Google Style
Guide)</a></p></li>
<li><p><a class="reference external" href="https://www.sphinx-doc.org/en/master/usage/extensions/napoleon.html">Napolean (Google Style to ReST
preprocessor)</a></p></li>
<li><p><a class="reference external" href="http://docutils.sourceforge.net/rst.html">reStructuredText -
Docutils</a></p></li>
</ul>
</section>
</section>
<section id="testing">
<h2>Testing<a class="headerlink" href="#testing" title="Permalink to this heading">¶</a></h2>
<p>ChipWhisperer software is currently tested in two ways:</p>
<ul class="simple">
<li><p>Using Jupyter Notebooks</p></li>
<li><p>Unit Tests</p></li>
</ul>
<section id="jupyter-notebooks">
<h3>Jupyter Notebooks<a class="headerlink" href="#jupyter-notebooks" title="Permalink to this heading">¶</a></h3>
<p>The tutorials are not only a great resource for people learning to use
the platform, they also are the functional tests for this project. We
use the autogenerated output for the tutorials page. Each tutorial has a
test section at the end of the notebook which asserts certain test
criteria. The criteria is often hard to chose due to the nature of the
attacks, especially glitching.</p>
<section id="creating-editing">
<h4>Creating / Editing<a class="headerlink" href="#creating-editing" title="Permalink to this heading">¶</a></h4>
<p>When editing or creating tutorials here are a few things to consider:</p>
<ul>
<li><p>If the tutorial is meant to be run using some of the chipwhisperer
hardware the first source code block must contain</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">SCOPETYPE</span> <span class="o">=</span> <span class="s1">&#39;OPENADC&#39;</span>
<span class="n">PLATFORM</span> <span class="o">=</span> <span class="s1">&#39;CWLITEARM&#39;</span>
<span class="n">CRYPTO_TARGET</span> <span class="o">=</span> <span class="s1">&#39;TINYAES128C&#39;</span>
</pre></div>
</div>
<p>or equivalent for the different types of hardware. Don’t worry about
getting it right, when you are creating a tutorial, we can help you
is you take out a pull request. The reason this block is there is for
use with nbparameterize for running our automated tests so we can
figure it out for you.</p>
</li>
<li><p>When writing in markdown cells please use the <a class="reference external" href="https://rmarkdown.rstudio.com/authoring_pandoc_markdown.html">pandoc style
markdown</a></p></li>
<li><p>This list contains guidelines and will update over time. We will run
the tutorials through the tutorial build system and fix errors that
come up.</p></li>
</ul>
</section>
<section id="tutorials-test-export-system">
<h4>Tutorials Test/Export System<a class="headerlink" href="#tutorials-test-export-system" title="Permalink to this heading">¶</a></h4>
<p>The tutorials are run as tests on our own testing machine where we keep
the board used for each hardware type consistent. We are looking to
improve this, and have the beginning of a full test system created. It
can be found in the <code class="docutils literal notranslate"><span class="pre">jupyter/utils/tutorials.py</span></code> script. It uses a
configuration file to specify the tutorials and which type of hardware
it currently should support.</p>
<p>The configuration file is read in and the tutorials are run for all
different configurations. The configuration file is written using YAML
and the syntax is as follows</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="c1"># Expected Syntax:</span>
<span class="c1">#</span>
<span class="c1"># connected:</span>
<span class="c1">#   scope: &lt;VALID SCOPE NAME (OPENADC, CWNANO)&gt;</span>
<span class="c1">#   target: &lt;VALID PLATFORM NAME (CWLITEARM, CWLITEXMEGA, CWNANO)&gt;</span>
<span class="c1">#   serial number: &lt;device serial number (optional)&gt;</span>
<span class="c1">#</span>
<span class="c1"># tutorials:</span>
<span class="c1">#   &lt;tutorial file name including extension&gt;:</span>
<span class="c1">#     configurations:</span>
<span class="c1">#       - scope: &lt;VALID SCOPE NAME&gt;</span>
<span class="c1">#         target: &lt;VALID PLATFORM NAME&gt;</span>
<span class="c1">#         firmware: &lt;VALID CRYPTO_TARGET NAME (TINYAES128C, AVRCYPTOLIB, MBEDTLS)&gt;</span>
<span class="c1">#       - ... any more configurations</span>
<span class="c1">#     kwargs:  # extra keyword arguments to nbparameterise (optional)</span>
<span class="c1">#       num_traces: &lt;number of traces to capture&gt;</span>
<span class="c1">#       sample_size: &lt;sample size&gt;</span>
</pre></div>
</div>
<p>You can find the current version in our <a class="reference external" href="https://github.com/newaetech/chipwhisperer/">GitHub
Repository</a> as the file
<strong>jupyter/tests/tutorials.yaml</strong>. To run the tests use</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span><span class="w"> </span>chipwhisperer/jupyter/tests/
python<span class="w"> </span>tutorials.py
</pre></div>
</div>
<p>This should run the tests in all known configurations and give the
output of passed and output written to output/file/path/ or the first
error that occurred in each notebook. There is also a notebook for
running tests individually if that is needed.</p>
</section>
<section id="running-tutorial-tests-export-individually">
<h4>Running Tutorial Tests/Export Individually<a class="headerlink" href="#running-tutorial-tests-export-individually" title="Permalink to this heading">¶</a></h4>
<p>Inside the <code class="docutils literal notranslate"><span class="pre">chipwhisperer/jupyter</span></code> folder there is the notebook called
<code class="docutils literal notranslate"><span class="pre">Test_Notebook.ipynb</span></code>. This notebook can be used to run the tests
individually. This is great for working on getting a tutorial running or
testing a single notebook you have made changes for.</p>
<ol class="arabic simple">
<li><p>Open the notebook as you would any other notebook and run all the
blocks leading up to the blocks containing different blocks similar
to
<code class="docutils literal notranslate"><span class="pre">python</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">testscope</span> <span class="pre">=</span> <span class="pre">'OPENADC'</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">testplat</span> <span class="pre">=</span> <span class="pre">'CWLITEARM'</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">crypt</span> <span class="pre">=</span> <span class="pre">'TINYAES128C'</span></code></p></li>
<li><p>Then choose the block that is correct for your attached hardware and
run that.</p></li>
<li><p>Finally select the block containing the notebook you want to test
from the code cells following.</p></li>
</ol>
</section>
</section>
<section id="unit-tests">
<h3>Unit Tests<a class="headerlink" href="#unit-tests" title="Permalink to this heading">¶</a></h3>
<p>There are also a few unit tests that have been created to test small
parts of the API. The unit tests are mostly used in places where we can
test without using the hardware. Here are some changes that have been
though of that would make the unit tests better.</p>
<ul class="simple">
<li><p>Collect some traces that we know are good and use those for unit
testing the analyzer. This should not be too hard, however, it just
has to be done.</p></li>
<li><p>Find a way to test the capture side of things without using hardware.
Might require substantial decoupling. Maybe exchange the serial
backend of ChipWhisperer with a class that acts like a serial device.
Then we could check is the serial messages are the ones we expect
when using the API.</p></li>
<li><p>Increase coverage. This is related to the other improvements as they
have to be partially completed before unit test coverage can expand
drastically.</p></li>
</ul>
<p>Unit tests can be found in the <code class="docutils literal notranslate"><span class="pre">chipwhisperer/tests</span></code> directory. There
is no auto discover script yet so just run:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span><span class="w"> </span>chipwhisperer/tests

python<span class="w"> </span>test_api.py
</pre></div>
</div>
</section>
</section>
</section>


          </div>
          
        </div>
      </div>
    <div class="clearer"></div>
  </div>
    <div class="footer">
      &copy;2023, NewAE Technology Inc..
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 5.0.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/contributing.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    
    <a href="https://github.com/newaetech/chipwhisperer" class="github">
        <img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub"  class="github"/>
    </a>
    

    
  </body>
</html>