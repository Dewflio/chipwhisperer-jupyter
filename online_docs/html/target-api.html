
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>Target API &#8212; ChipWhisperer 5.7.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css" />
    <link rel="stylesheet" type="text/css" href="_static/custom.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinxcontrib-images/LightBox2/lightbox2/dist/css/lightbox.css" />
    <link rel="stylesheet" type="text/css" href="_static/backup.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinxcontrib-images/LightBox2/lightbox2/dist/js/lightbox-plus-jquery.min.js"></script>
    <script src="_static/sphinxcontrib-images/LightBox2/lightbox2-customize/jquery-noconflict.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Capture Helpers" href="capture-api.html" />
    <link rel="prev" title="Updating Firmware" href="firmware.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<p class="logo">
  <a href="index.html">
    <img class="logo" src="_static/logo.png" alt="Logo"/>
    
    <h1 class="logo logo-name">ChipWhisperer</h1>
    
  </a>
</p>



<p class="blurb">Side-Channel analysis tool-chain.</p>









  <div>
    <h3><a href="index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">Target API</a><ul>
<li><a class="reference internal" href="#serial-targets">Serial Targets</a><ul>
<li><a class="reference internal" href="#simple-serial-target">Simple Serial Target</a></li>
<li><a class="reference internal" href="#simple-serial-v2-target">Simple Serial V2 Target</a></li>
<li><a class="reference internal" href="#simple-serial-v2-cdc-target">Simple Serial V2 CDC Target</a></li>
</ul>
</li>
<li><a class="reference internal" href="#fpga-targets">FPGA Targets</a><ul>
<li><a class="reference internal" href="#cw305-fpga-target">CW305 FPGA Target</a><ul>
<li><a class="reference internal" href="#target-pll">target.pll</a></li>
</ul>
</li>
<li><a class="reference internal" href="#cw310">CW310</a></li>
<li><a class="reference internal" href="#common-target-methods">Common Target Methods</a></li>
</ul>
</li>
<li><a class="reference internal" href="#fpga-advanced-control">FPGA Advanced Control</a><ul>
<li><a class="reference internal" href="#cw305-spi-program">CW305 SPI Program</a></li>
<li><a class="reference internal" href="#cw305-sam3u-io-control">CW305 SAM3U IO Control</a></li>
</ul>
</li>
<li><a class="reference internal" href="#serial-target-programming">Serial Target Programming</a></li>
</ul>
</li>
</ul>

  </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="target-api">
<span id="api-target"></span><h1>Target API<a class="headerlink" href="#target-api" title="Permalink to this heading">¶</a></h1>
<p>The target object provides the interface for configuring the target device
under test (DUT). There are currently two UART communication classes:</p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference internal" href="#api-target-simpleserial"><span class="std std-ref">Simple Serial Target</span></a> (default)</p></li>
<li><p><a class="reference internal" href="#api-target-simpleserial2"><span class="std std-ref">Simple Serial V2 Target</span></a></p></li>
</ul>
</div></blockquote>
<p>and two FPGA based targets:</p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference internal" href="#api-target-cw305"><span class="std std-ref">CW305 FPGA Target</span></a></p></li>
<li><p><a class="reference internal" href="#api-target-cw310"><span class="std std-ref">CW310</span></a></p></li>
</ul>
</div></blockquote>
<p>The easiest way to create a target object is to use the <code class="code docutils literal notranslate"><span class="pre">chipwhisperer.target</span></code>
function:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">chipwhisperer</span> <span class="k">as</span> <span class="nn">cw</span>
<span class="n">scope</span> <span class="o">=</span> <span class="n">cw</span><span class="o">.</span><span class="n">scope</span><span class="p">()</span>
<span class="n">target</span> <span class="o">=</span> <span class="n">cw</span><span class="o">.</span><span class="n">target</span><span class="p">(</span><span class="n">scope</span><span class="p">,</span> <span class="n">cw</span><span class="o">.</span><span class="n">targets</span><span class="o">.</span><span class="n">SimpleSerial</span><span class="p">)</span>
</pre></div>
</div>
<dl class="py data">
<dt class="sig sig-object py" id="chipwhisperer.target">
<span class="sig-name descname"><span class="pre">target</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scope</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_type=&lt;class</span> <span class="pre">'chipwhisperer.capture.targets.SimpleSerial.SimpleSerial'&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">**kwargs</span></span></em><span class="sig-paren">)</span><em class="property"><span class="w"> </span><span class="pre">chipwhisperer.target(scope,</span> <span class="pre">target_type=targets.SimpleSerial,</span> <span class="pre">**kwargs)</span></em><a class="headerlink" href="#chipwhisperer.target" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a target object and connect to it.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>scope</strong> (<em>ScopeTemplate</em>) – Scope object that we’re connecting to the target
through.</p></li>
<li><p><strong>target_type</strong> (<em>TargetTemplate</em><em>, </em><em>optional</em>) – Target type to connect to.
Defaults to targets.SimpleSerial. Types can be found in
chipwhisperer.targets.</p></li>
<li><p><strong>**kwargs</strong> – Additional keyword arguments to pass to target setup. See target.con
or target._con for your target_type for more information</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<a class="reference internal" href="#chipwhisperer.targets.CW305" title="chipwhisperer.capture.targets.CW305.CW305"><code class="xref py py-class docutils literal notranslate"><span class="pre">CW305</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">CW305_ECC</span></code>, <a class="reference internal" href="#chipwhisperer.capture.targets.CW310.CW310" title="chipwhisperer.capture.targets.CW310.CW310"><code class="xref py py-class docutils literal notranslate"><span class="pre">CW310</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">CW340</span></code>, <a class="reference internal" href="#chipwhisperer.targets.SimpleSerial" title="chipwhisperer.capture.targets.SimpleSerial.SimpleSerial"><code class="xref py py-class docutils literal notranslate"><span class="pre">SimpleSerial</span></code></a>, <a class="reference internal" href="#chipwhisperer.targets.SimpleSerial2" title="chipwhisperer.capture.targets.SimpleSerial2.SimpleSerial2"><code class="xref py py-class docutils literal notranslate"><span class="pre">SimpleSerial2</span></code></a>, <a class="reference internal" href="#chipwhisperer.targets.SimpleSerial2_CDC" title="chipwhisperer.capture.targets.SimpleSerial2.SimpleSerial2_CDC"><code class="xref py py-class docutils literal notranslate"><span class="pre">SimpleSerial2_CDC</span></code></a>]</p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Connected target object specified by target_type.</p>
</dd>
</dl>
</dd></dl>

<section id="serial-targets">
<h2>Serial Targets<a class="headerlink" href="#serial-targets" title="Permalink to this heading">¶</a></h2>
<section id="simple-serial-target">
<span id="api-target-simpleserial"></span><h3>Simple Serial Target<a class="headerlink" href="#simple-serial-target" title="Permalink to this heading">¶</a></h3>
<p>38400bps ASCII encoded serial. See SimpleSerial for protocol documentation.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">chipwhisperer</span> <span class="k">as</span> <span class="nn">cw</span>
<span class="n">scope</span> <span class="o">=</span> <span class="n">cw</span><span class="o">.</span><span class="n">scope</span><span class="p">()</span>
<span class="n">target</span> <span class="o">=</span> <span class="n">cw</span><span class="o">.</span><span class="n">target</span><span class="p">(</span><span class="n">scope</span><span class="p">)</span>
</pre></div>
</div>
<p>Supported Targets:</p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference external" href="https://rtfm.newae.com/Targets/#integrated-targets">Targets integrated into capture boards</a></p></li>
<li><p><a class="reference external" href="https://rtfm.newae.com/Targets/#cw308-targets">CW308 UFO targets</a></p></li>
</ul>
</div></blockquote>
<dl class="py class">
<dt class="sig sig-object py" id="chipwhisperer.targets.SimpleSerial">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">SimpleSerial</span></span><a class="headerlink" href="#chipwhisperer.targets.SimpleSerial" title="Permalink to this definition">¶</a></dt>
<dd><p>SimpleSerial target object.</p>
<p>This class contains the public API for a target that uses serial
communication.</p>
<p>The easiest way to connect to the target is:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">chipwhisperer</span> <span class="k">as</span> <span class="nn">cw</span>
<span class="n">scope</span> <span class="o">=</span> <span class="n">cw</span><span class="o">.</span><span class="n">scope</span><span class="p">()</span>
<span class="n">target</span> <span class="o">=</span> <span class="n">cw</span><span class="o">.</span><span class="n">target</span><span class="p">(</span><span class="n">scope</span><span class="p">)</span>
</pre></div>
</div>
<p>The target is automatically connected to if the default configuration
adequate.</p>
<p>A <cite>noflush=True</cite> kwarg may be used to suppress an initial protocol-specific
flush of the UART. The caller is then responsible for invoking flush() manually
to flush underlying buffers.</p>
<p>For more help use the help() function with one of the submodules
(target.baud, target.write, target.read, …).</p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference internal" href="#chipwhisperer.targets.SimpleSerial.baud" title="chipwhisperer.targets.SimpleSerial.baud"><code class="xref py py-attr docutils literal notranslate"><span class="pre">target.baud</span></code></a></p></li>
<li><p><a class="reference internal" href="#chipwhisperer.targets.SimpleSerial.write" title="chipwhisperer.targets.SimpleSerial.write"><code class="xref py py-meth docutils literal notranslate"><span class="pre">target.write</span></code></a></p></li>
<li><p><a class="reference internal" href="#chipwhisperer.targets.SimpleSerial.read" title="chipwhisperer.targets.SimpleSerial.read"><code class="xref py py-meth docutils literal notranslate"><span class="pre">target.read</span></code></a></p></li>
<li><p><a class="reference internal" href="#chipwhisperer.targets.SimpleSerial.in_waiting" title="chipwhisperer.targets.SimpleSerial.in_waiting"><code class="xref py py-meth docutils literal notranslate"><span class="pre">target.in_waiting</span></code></a></p></li>
<li><p><a class="reference internal" href="#chipwhisperer.targets.SimpleSerial.in_waiting_tx" title="chipwhisperer.targets.SimpleSerial.in_waiting_tx"><code class="xref py py-meth docutils literal notranslate"><span class="pre">target.in_waiting_tx</span></code></a></p></li>
<li><p><a class="reference internal" href="#chipwhisperer.targets.SimpleSerial.simpleserial_wait_ack" title="chipwhisperer.targets.SimpleSerial.simpleserial_wait_ack"><code class="xref py py-meth docutils literal notranslate"><span class="pre">target.simpleserial_wait_ack</span></code></a></p></li>
<li><p><a class="reference internal" href="#chipwhisperer.targets.SimpleSerial.simpleserial_write" title="chipwhisperer.targets.SimpleSerial.simpleserial_write"><code class="xref py py-meth docutils literal notranslate"><span class="pre">target.simpleserial_write</span></code></a></p></li>
<li><p><a class="reference internal" href="#chipwhisperer.targets.SimpleSerial.simpleserial_read" title="chipwhisperer.targets.SimpleSerial.simpleserial_read"><code class="xref py py-meth docutils literal notranslate"><span class="pre">target.simpleserial_read</span></code></a></p></li>
<li><p><a class="reference internal" href="#chipwhisperer.targets.SimpleSerial.simpleserial_read_witherrors" title="chipwhisperer.targets.SimpleSerial.simpleserial_read_witherrors"><code class="xref py py-meth docutils literal notranslate"><span class="pre">target.simpleserial_read_witherrors</span></code></a></p></li>
<li><p><a class="reference internal" href="#chipwhisperer.targets.SimpleSerial.set_key" title="chipwhisperer.targets.SimpleSerial.set_key"><code class="xref py py-meth docutils literal notranslate"><span class="pre">target.set_key</span></code></a></p></li>
<li><p><a class="reference internal" href="#chipwhisperer.targets.SimpleSerial.close" title="chipwhisperer.targets.SimpleSerial.close"><code class="xref py py-meth docutils literal notranslate"><span class="pre">target.close</span></code></a></p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">target.con</span></code></p></li>
<li><p><a class="reference internal" href="#chipwhisperer.targets.SimpleSerial.get_simpleserial_commands" title="chipwhisperer.targets.SimpleSerial.get_simpleserial_commands"><code class="xref py py-meth docutils literal notranslate"><span class="pre">target.get_simpleserial_commands</span></code></a></p></li>
</ul>
</div></blockquote>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The CWLite, CW1200, and CWNano have a 128 byte read buffer and a 128
byte send buffer. If the read buffer overflows, a warning message
will be printed. Prior to firmware 0.20, the send buffer can silently
overflow. In ChipWhisperer 5.4, this is upgraded to a 200 byte read/send buffer.</p>
</div>
<dl class="py property">
<dt class="sig sig-object py" id="chipwhisperer.targets.SimpleSerial.baud">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">baud</span></span><a class="headerlink" href="#chipwhisperer.targets.SimpleSerial.baud" title="Permalink to this definition">¶</a></dt>
<dd><p>The current baud rate of the serial connection.</p>
<dl class="field-list simple">
<dt class="field-odd">Getter<span class="colon">:</span></dt>
<dd class="field-odd"><p>Return the current baud rate.</p>
</dd>
<dt class="field-even">Setter<span class="colon">:</span></dt>
<dd class="field-even"><p>Set a new baud rate. Valid baud rates are any integer in the
range [500, 2000000].</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>AttributeError</strong> – Target doesn’t allow baud to be changed.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chipwhisperer.targets.SimpleSerial.close">
<span class="sig-name descname"><span class="pre">close</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#chipwhisperer.targets.SimpleSerial.close" title="Permalink to this definition">¶</a></dt>
<dd><p>Close target</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chipwhisperer.targets.SimpleSerial.dis">
<span class="sig-name descname"><span class="pre">dis</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#chipwhisperer.targets.SimpleSerial.dis" title="Permalink to this definition">¶</a></dt>
<dd><p>Disconnect from target</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chipwhisperer.targets.SimpleSerial.flush">
<span class="sig-name descname"><span class="pre">flush</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#chipwhisperer.targets.SimpleSerial.flush" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes all data from the serial buffer.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 5.1: </span>Added target.flush()</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chipwhisperer.targets.SimpleSerial.get_simpleserial_commands">
<span class="sig-name descname"><span class="pre">get_simpleserial_commands</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">250</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ack</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chipwhisperer.targets.SimpleSerial.get_simpleserial_commands" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets available simpleserial commands for target</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>timeout</strong> (<em>int</em><em>, </em><em>optional</em>) – Value to use for timeouts during initial
read of expected data in ms. If 0, block until all expected
data is returned. Defaults to 250.</p></li>
<li><p><strong>ack</strong> (<em>bool</em><em>, </em><em>optional</em>) – Wait for ack after sending key. Defaults to
True.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of dics with fields ‘cmd’ command_byte, ‘len’ command_length, ‘flags’ command_flags</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chipwhisperer.targets.SimpleSerial.in_waiting">
<span class="sig-name descname"><span class="pre">in_waiting</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#chipwhisperer.targets.SimpleSerial.in_waiting" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the number of characters available from the serial buffer.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The number of characters available via a target.read() call.</p>
</dd>
</dl>
<div class="versionadded">
<p><span class="versionmodified added">New in version 5.1: </span>Added target.in_waiting()</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chipwhisperer.targets.SimpleSerial.in_waiting_tx">
<span class="sig-name descname"><span class="pre">in_waiting_tx</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#chipwhisperer.targets.SimpleSerial.in_waiting_tx" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the number of characters waiting to be sent by the ChipWhisperer.</p>
<p>Requires firmware version &gt;= 0.2 for the CWLite/Nano and firmware version and
firmware version &gt;= 1.2 for the CWPro.</p>
<p>Used internally to avoid overflowing the TX buffer, since CW version 5.3</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The number of characters waiting to be sent to the target</p>
</dd>
</dl>
<div class="versionadded">
<p><span class="versionmodified added">New in version 5.3.1: </span>Added public method for in_waiting_tx().</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chipwhisperer.targets.SimpleSerial.init">
<span class="sig-name descname"><span class="pre">init</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#chipwhisperer.targets.SimpleSerial.init" title="Permalink to this definition">¶</a></dt>
<dd><p>Init Hardware</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chipwhisperer.targets.SimpleSerial.is_done">
<span class="sig-name descname"><span class="pre">is_done</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#chipwhisperer.targets.SimpleSerial.is_done" title="Permalink to this definition">¶</a></dt>
<dd><p>Always returns True</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chipwhisperer.targets.SimpleSerial.read">
<span class="sig-name descname"><span class="pre">read</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num_char</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">250</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chipwhisperer.targets.SimpleSerial.read" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads data from the target over serial.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>num_char</strong> (<em>int</em><em>, </em><em>optional</em>) – Number of byte to read. If 0, read all
data available. Defaults to 0.</p></li>
<li><p><strong>timeout</strong> (<em>int</em><em>, </em><em>optional</em>) – How long in ms to wait before returning.
If 0, block for a long time. Defaults to 250.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>String of received data.</p>
</dd>
</dl>
<div class="versionadded">
<p><span class="versionmodified added">New in version 5.1: </span>Added target.read()</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chipwhisperer.targets.SimpleSerial.set_key">
<span class="sig-name descname"><span class="pre">set_key</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ack</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">250</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">always_send</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chipwhisperer.targets.SimpleSerial.set_key" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks if key is different than the last one sent. If so, send it.</p>
<p>Uses simpleserial_write(‘k’)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> (<em>bytearray</em>) – key to send</p></li>
<li><p><strong>ack</strong> (<em>bool</em><em>, </em><em>optional</em>) – Wait for ack after sending key. Defaults to
True.</p></li>
<li><p><strong>timeout</strong> (<em>int</em><em>, </em><em>optional</em>) – How long in ms to wait for the ack.
Defaults to 250.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>Warning</strong> – Device did not ack or error during read.</p>
</dd>
</dl>
<div class="versionadded">
<p><span class="versionmodified added">New in version 5.1: </span>Added target.set_key()</p>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="chipwhisperer.targets.SimpleSerial.simpleserial_last_read">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">simpleserial_last_read</span></span><a class="headerlink" href="#chipwhisperer.targets.SimpleSerial.simpleserial_last_read" title="Permalink to this definition">¶</a></dt>
<dd><p>The last raw string read by a simpleserial_read* command</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="chipwhisperer.targets.SimpleSerial.simpleserial_last_sent">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">simpleserial_last_sent</span></span><a class="headerlink" href="#chipwhisperer.targets.SimpleSerial.simpleserial_last_sent" title="Permalink to this definition">¶</a></dt>
<dd><p>The last raw string written via simpleserial_write</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chipwhisperer.targets.SimpleSerial.simpleserial_read">
<span class="sig-name descname"><span class="pre">simpleserial_read</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cmd</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pay_len</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'\n'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">250</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ack</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chipwhisperer.targets.SimpleSerial.simpleserial_read" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads a simpleserial command from the target over serial.</p>
<p>Reads a command starting with &lt;start&gt; with an ASCII encoded bytearray
payload of length exp_len*2 (i.e. exp_len=16 for an AES128 key) and
ending with &lt;end&gt;. Converts the payload to a bytearray. Will ignore
non-ASCII bytes in the payload, but warn the user of them.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cmd</strong> (<em>str</em>) – Expected start of the command. Will warn the user if
the received command does not start with this string.</p></li>
<li><p><strong>pay_len</strong> (<em>int</em>) – Expected length of the returned bytearray in number
of bytes. Note that SimpleSerial commands send data as ASCII;
this is the length of the data that was encoded.</p></li>
<li><p><strong>end</strong> (<em>str</em><em>, </em><em>optional</em>) – Expected end of the command. Will warn the
user if the received command does not end with this string.
Defaults to ‘n’</p></li>
<li><p><strong>timeout</strong> (<em>int</em><em>, </em><em>optional</em>) – Value to use for timeouts during reads in
ms. If 0, block until all expected data is returned. Defaults
to 250.</p></li>
<li><p><strong>ack</strong> (<em>bool</em><em>, </em><em>optional</em>) – Expect an ack at the end for SimpleSerial
&gt;= 1.1. Defaults to True.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The received payload as a bytearray or None if the read failed.</p>
</dd>
</dl>
<p class="rubric">Example</p>
<p>Reading ciphertext back from the target after a ‘p’ command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ct</span> <span class="o">=</span> <span class="n">target</span><span class="o">.</span><span class="n">simpleserial_read</span><span class="p">(</span><span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="mi">16</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>Warning</strong> – Device did not ack or error during read.</p>
</dd>
</dl>
<div class="versionadded">
<p><span class="versionmodified added">New in version 5.1: </span>Added target.simpleserial_read()</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chipwhisperer.targets.SimpleSerial.simpleserial_read_witherrors">
<span class="sig-name descname"><span class="pre">simpleserial_read_witherrors</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cmd</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pay_len</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'\n'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">250</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">glitch_timeout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">8000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ack</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chipwhisperer.targets.SimpleSerial.simpleserial_read_witherrors" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads a simpleserial command from the target over serial, but returns invalid responses.</p>
<p>Reads a command starting with &lt;start&gt; with an ASCII encoded bytearray
payload of length exp_len*2 (i.e. exp_len=16 for an AES128 key) and
ending with &lt;end&gt;. Converts the payload to a bytearray, returns a dictionary
showing if processing was successful along with decoded and raw values.
This function is designed to be used with glitching where you may have
invalid responses.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cmd</strong> (<em>str</em>) – Expected start of the command. Will warn the user if
the received command does not start with this string.</p></li>
<li><p><strong>pay_len</strong> (<em>int</em>) – Expected length of the returned bytearray in number
of bytes. Note that SimpleSerial commands send data as ASCII;
this is the length of the data that was encoded.</p></li>
<li><p><strong>end</strong> (<em>str</em><em>, </em><em>optional</em>) – Expected end of the command. Will warn the
user if the received command does not end with this string.
Defaults to ‘n’</p></li>
<li><p><strong>timeout</strong> (<em>int</em><em>, </em><em>optional</em>) – Value to use for timeouts during initial
read of expected data in ms. If 0, block until all expected
data is returned. Defaults to 250.</p></li>
<li><p><strong>glitch_timeout</strong> (<em>int</em><em>, </em><em>optional</em>) – Value to wait for additional data
if expected data isn’t returned. Useful to have a longer
timeout for a reset or other unexpected event.</p></li>
<li><p><strong>ack</strong> (<em>bool</em><em>, </em><em>optional</em>) – Expect an ack at the end for SimpleSerial
&gt;= 1.1. Defaults to True.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>valid (bool): Did response look valid?
payload: Bytearray of decoded data (only if valid is ‘True’, otherwise None)
full_response: Raw output of serial port.
rv: If ‘ack’ in command, includes return value</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>A dictionary with these elements</p>
</dd>
</dl>
<p class="rubric">Example</p>
<dl class="simple">
<dt>Reading the output of one of the glitch tests when no error:</dt><dd><p>resp = target.simpleserial_read_witherrors(‘r’, 4)
print(resp)
&gt;{‘valid’: True, ‘payload’: CWbytearray(b’c4 09 00 00’), ‘full_response’: ‘rC4090000n’, ‘rv’: 0}</p>
</dd>
<dt>Reading the output of one of the glitch tests when an error happened:</dt><dd><p>resp = target.simpleserial_read_witherrors(‘r’, 4)
print(resp)
&gt;{‘valid’: False, ‘payload’: None, ‘full_response’: ‘x00x00x00x00x00x00x00rRESET   n’, ‘rv’: None}</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>Warning</strong> – Device did not ack or error during read.</p>
</dd>
</dl>
<div class="versionadded">
<p><span class="versionmodified added">New in version 5.2: </span>Added target.simpleserial_read_witherrors()</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chipwhisperer.targets.SimpleSerial.simpleserial_wait_ack">
<span class="sig-name descname"><span class="pre">simpleserial_wait_ack</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">500</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chipwhisperer.targets.SimpleSerial.simpleserial_wait_ack" title="Permalink to this definition">¶</a></dt>
<dd><p>Waits for an ack from the target for timeout ms</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>timeout</strong> (<em>int</em><em>, </em><em>optional</em>) – Time to wait for an ack in ms. If 0, block
until we get an ack. Defaults to 500.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The return code from the ChipWhisperer command or None if the target
failed to ack</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>Warning</strong> – Target not connected.</p>
</dd>
</dl>
<div class="versionadded">
<p><span class="versionmodified added">New in version 5.1: </span>Added target.simpleserial_wait_ack</p>
</div>
<div class="versionadded">
<p><span class="versionmodified added">New in version 5.2: </span>Defined return value</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chipwhisperer.targets.SimpleSerial.simpleserial_write">
<span class="sig-name descname"><span class="pre">simpleserial_write</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cmd</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'\n'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chipwhisperer.targets.SimpleSerial.simpleserial_write" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes a simpleserial command to the target over serial.</p>
<p>Writes ‘cmd’ + ascii(num) + ‘end’ over serial. Flushes the read and
write buffers before writing.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cmd</strong> (<em>str</em>) – String to start the simpleserial command with. For
‘p’.</p></li>
<li><p><strong>num</strong> (<em>bytearray</em>) – Number to write as part of command. For example,
the 16 byte plaintext for the ‘p’ command. Converted to hex-ascii
before being sent. If set to ‘none’ is omitted.</p></li>
<li><p><strong>end</strong> (<em>str</em><em>, </em><em>optional</em>) – String to end the simpleserial command with.
Defaults to ‘n’.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<p>Sending a ‘p’ command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">key</span><span class="p">,</span> <span class="n">pt</span> <span class="o">=</span> <span class="n">ktp</span><span class="o">.</span><span class="n">new_pair</span><span class="p">()</span>
<span class="n">target</span><span class="o">.</span><span class="n">simpleserial_write</span><span class="p">(</span><span class="s1">&#39;p&#39;</span><span class="p">,</span> <span class="n">pt</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>Warning</strong> – Write attempted while disconnected or error during write.</p>
</dd>
</dl>
<div class="versionadded">
<p><span class="versionmodified added">New in version 5.1: </span>Added target.simpleserial_write()</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chipwhisperer.targets.SimpleSerial.write">
<span class="sig-name descname"><span class="pre">write</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chipwhisperer.targets.SimpleSerial.write" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes data to the target over serial.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>data</strong> (<em>str</em>) – Data to write over serial.</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>Warning</strong> – Target not connected</p>
</dd>
</dl>
<div class="versionadded">
<p><span class="versionmodified added">New in version 5.1: </span>Added target.write()</p>
</div>
</dd></dl>

</dd></dl>

</section>
<section id="simple-serial-v2-target">
<span id="api-target-simpleserial2"></span><h3>Simple Serial V2 Target<a class="headerlink" href="#simple-serial-v2-target" title="Permalink to this heading">¶</a></h3>
<p>230400bps COBS serial. See SimpleSerial for protocol documentation.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">chipwhisperer</span> <span class="k">as</span> <span class="nn">cw</span>
<span class="n">scope</span> <span class="o">=</span> <span class="n">cw</span><span class="o">.</span><span class="n">scope</span><span class="p">()</span>
<span class="n">target</span> <span class="o">=</span> <span class="n">cw</span><span class="o">.</span><span class="n">target</span><span class="p">(</span><span class="n">scope</span><span class="p">,</span> <span class="n">cw</span><span class="o">.</span><span class="n">targets</span><span class="o">.</span><span class="n">SimpleSerial2</span><span class="p">)</span>
</pre></div>
</div>
<p>Supported Targets:</p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference external" href="https://rtfm.newae.com/Targets/#integrated-targets">Targets integrated into capture boards</a></p></li>
<li><p><a class="reference external" href="https://rtfm.newae.com/Targets/#cw308-targets">CW308 UFO targets</a></p></li>
</ul>
</div></blockquote>
<dl class="py class">
<dt class="sig sig-object py" id="chipwhisperer.targets.SimpleSerial2">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">SimpleSerial2</span></span><a class="headerlink" href="#chipwhisperer.targets.SimpleSerial2" title="Permalink to this definition">¶</a></dt>
<dd><p>Target object for new SimpleSerial V2 protocol.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 5.4: </span>Added SimpleSerial V2 (not on by default)</p>
</div>
<p>Currently, the easiest way to use it is:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">scope</span> <span class="o">=</span> <span class="n">cw</span><span class="o">.</span><span class="n">scope</span><span class="p">()</span>
<span class="n">target</span> <span class="o">=</span> <span class="n">cw</span><span class="o">.</span><span class="n">target</span><span class="p">(</span><span class="n">scope</span><span class="p">,</span> <span class="n">cw</span><span class="o">.</span><span class="n">targets</span><span class="o">.</span><span class="n">SimpleSerial2</span><span class="p">,</span> <span class="n">flush_on_err</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
<p>For more help, use the help() function with one of the submodules
(target.baud, target.write, target.read, …).</p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference internal" href="#chipwhisperer.targets.SimpleSerial2.baud" title="chipwhisperer.targets.SimpleSerial2.baud"><code class="xref py py-attr docutils literal notranslate"><span class="pre">target.baud</span></code></a></p></li>
<li><p><code class="xref py py-meth docutils literal notranslate"><span class="pre">target.write</span></code></p></li>
<li><p><a class="reference internal" href="#chipwhisperer.targets.SimpleSerial2.read" title="chipwhisperer.targets.SimpleSerial2.read"><code class="xref py py-meth docutils literal notranslate"><span class="pre">target.read</span></code></a></p></li>
<li><p><a class="reference internal" href="#chipwhisperer.targets.SimpleSerial2.in_waiting" title="chipwhisperer.targets.SimpleSerial2.in_waiting"><code class="xref py py-meth docutils literal notranslate"><span class="pre">target.in_waiting</span></code></a></p></li>
<li><p><a class="reference internal" href="#chipwhisperer.targets.SimpleSerial2.in_waiting_tx" title="chipwhisperer.targets.SimpleSerial2.in_waiting_tx"><code class="xref py py-meth docutils literal notranslate"><span class="pre">target.in_waiting_tx</span></code></a></p></li>
<li><p><a class="reference internal" href="#chipwhisperer.targets.SimpleSerial2.send_cmd" title="chipwhisperer.targets.SimpleSerial2.send_cmd"><code class="xref py py-meth docutils literal notranslate"><span class="pre">target.send_cmd</span></code></a></p></li>
<li><p><a class="reference internal" href="#chipwhisperer.targets.SimpleSerial2.read_cmd" title="chipwhisperer.targets.SimpleSerial2.read_cmd"><code class="xref py py-meth docutils literal notranslate"><span class="pre">target.read_cmd</span></code></a></p></li>
<li><p><a class="reference internal" href="#chipwhisperer.targets.SimpleSerial2.simpleserial_wait_ack" title="chipwhisperer.targets.SimpleSerial2.simpleserial_wait_ack"><code class="xref py py-meth docutils literal notranslate"><span class="pre">target.simpleserial_wait_ack</span></code></a></p></li>
<li><p><a class="reference internal" href="#chipwhisperer.targets.SimpleSerial2.simpleserial_write" title="chipwhisperer.targets.SimpleSerial2.simpleserial_write"><code class="xref py py-meth docutils literal notranslate"><span class="pre">target.simpleserial_write</span></code></a></p></li>
<li><p><a class="reference internal" href="#chipwhisperer.targets.SimpleSerial2.simpleserial_read" title="chipwhisperer.targets.SimpleSerial2.simpleserial_read"><code class="xref py py-meth docutils literal notranslate"><span class="pre">target.simpleserial_read</span></code></a></p></li>
<li><p><a class="reference internal" href="#chipwhisperer.targets.SimpleSerial2.simpleserial_read_witherrors" title="chipwhisperer.targets.SimpleSerial2.simpleserial_read_witherrors"><code class="xref py py-meth docutils literal notranslate"><span class="pre">target.simpleserial_read_witherrors</span></code></a></p></li>
<li><p><a class="reference internal" href="#chipwhisperer.targets.SimpleSerial2.set_key" title="chipwhisperer.targets.SimpleSerial2.set_key"><code class="xref py py-meth docutils literal notranslate"><span class="pre">target.set_key</span></code></a></p></li>
<li><p><a class="reference internal" href="#chipwhisperer.targets.SimpleSerial2.close" title="chipwhisperer.targets.SimpleSerial2.close"><code class="xref py py-meth docutils literal notranslate"><span class="pre">target.close</span></code></a></p></li>
<li><p><a class="reference internal" href="#chipwhisperer.targets.SimpleSerial2.con" title="chipwhisperer.targets.SimpleSerial2.con"><code class="xref py py-meth docutils literal notranslate"><span class="pre">target.con</span></code></a></p></li>
<li><p><a class="reference internal" href="#chipwhisperer.targets.SimpleSerial2.get_simpleserial_commands" title="chipwhisperer.targets.SimpleSerial2.get_simpleserial_commands"><code class="xref py py-meth docutils literal notranslate"><span class="pre">target.get_simpleserial_commands</span></code></a></p></li>
</ul>
</div></blockquote>
<p>The protocol is as follows:</p>
<p>[cmd, subcmd, data_len, data_0, …, data_n, crc (poly=0xA6)]</p>
<p>The frame is then consistant overhead byte stuffed (COBS) to remove
all 0x00 bytes. An 0x00 byte is then appended to the end of the frame.</p>
<p>Uses 230400bps by default.</p>
<p>Return packets have the form:</p>
<p>[cmd, data_len, data_0, …, data_n, crc (poly=0xA6)]</p>
<p>All commands sent to the target will be responded to with an
ack/error packet.</p>
<p>Allows us to send more information in the same number of bytes. Also
should be more robust and a bit easier to work with:</p>
<ol class="arabic simple">
<li><p>It’s easy to reset communications by sending frame bytes (0x00)</p></li>
<li><dl class="simple">
<dt>We have many ways of checking the validity of a packet:</dt><dd><p>-Frame byte where it shouldn’t be
-No frame byte at end of message
-CRC</p>
</dd>
</dl>
</li>
<li><p>No need to specify length of return message</p></li>
</ol>
<dl class="py property">
<dt class="sig sig-object py" id="chipwhisperer.targets.SimpleSerial2.baud">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">baud</span></span><a class="headerlink" href="#chipwhisperer.targets.SimpleSerial2.baud" title="Permalink to this definition">¶</a></dt>
<dd><p>The current baud rate of the serial connection.</p>
<dl class="field-list simple">
<dt class="field-odd">Getter<span class="colon">:</span></dt>
<dd class="field-odd"><p>Return the current baud rate.</p>
</dd>
<dt class="field-even">Setter<span class="colon">:</span></dt>
<dd class="field-even"><p>Set a new baud rate. Valid baud rates are any integer in the
range [500, 2000000].</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>AttributeError</strong> – Target doesn’t allow baud to be changed.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chipwhisperer.targets.SimpleSerial2.close">
<span class="sig-name descname"><span class="pre">close</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#chipwhisperer.targets.SimpleSerial2.close" title="Permalink to this definition">¶</a></dt>
<dd><p>Close target</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chipwhisperer.targets.SimpleSerial2.con">
<span class="sig-name descname"><span class="pre">con</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scope</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flush_on_err</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chipwhisperer.targets.SimpleSerial2.con" title="Permalink to this definition">¶</a></dt>
<dd><p>Connect to target</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chipwhisperer.targets.SimpleSerial2.dis">
<span class="sig-name descname"><span class="pre">dis</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#chipwhisperer.targets.SimpleSerial2.dis" title="Permalink to this definition">¶</a></dt>
<dd><p>Disconnect from target</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chipwhisperer.targets.SimpleSerial2.flush">
<span class="sig-name descname"><span class="pre">flush</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#chipwhisperer.targets.SimpleSerial2.flush" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes all data from the serial buffer.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chipwhisperer.targets.SimpleSerial2.flush_on_error">
<span class="sig-name descname"><span class="pre">flush_on_error</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#chipwhisperer.targets.SimpleSerial2.flush_on_error" title="Permalink to this definition">¶</a></dt>
<dd><p>Internally used to reset comms and flush serial buffer when we get an error.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chipwhisperer.targets.SimpleSerial2.get_simpleserial_commands">
<span class="sig-name descname"><span class="pre">get_simpleserial_commands</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">250</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flush_on_err</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ack</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chipwhisperer.targets.SimpleSerial2.get_simpleserial_commands" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets available simpleserial commands for target</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>timeout</strong> (<em>int</em><em>, </em><em>optional</em>) – Value to use for timeouts during initial
read of expected data in ms. If 0, block until all expected
data is returned. Defaults to 250.</p></li>
<li><p><strong>flush_on_err</strong> (<em>bool/None</em><em>, </em><em>optional</em>) – If True, reset/flush the serial lines.
If False, don’t. If None, determine via whether or not flush_on_err
was True or False when passed to con()</p></li>
<li><p><strong>ack</strong> (<em>bool</em><em>, </em><em>optional</em>) – Wait for ack after sending key. Defaults to
True.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of dics with fields ‘cmd’ command_byte, ‘len’ 0x00, ‘flags’ 0x00</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chipwhisperer.targets.SimpleSerial2.in_waiting">
<span class="sig-name descname"><span class="pre">in_waiting</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#chipwhisperer.targets.SimpleSerial2.in_waiting" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the number of characters available from the serial buffer.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The number of characters available via a target.read() call.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chipwhisperer.targets.SimpleSerial2.in_waiting_tx">
<span class="sig-name descname"><span class="pre">in_waiting_tx</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#chipwhisperer.targets.SimpleSerial2.in_waiting_tx" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the number of characters waiting to be sent by the ChipWhisperer.</p>
<p>Requires firmware version &gt;= 0.2 for the CWLite/Nano and firmware version and
firmware version &gt;= 1.2 for the CWPro.</p>
<p>Used internally to avoid overflowing the TX buffer, since CW version 5.3</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The number of characters waiting to be sent to the target</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chipwhisperer.targets.SimpleSerial2.is_done">
<span class="sig-name descname"><span class="pre">is_done</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#chipwhisperer.targets.SimpleSerial2.is_done" title="Permalink to this definition">¶</a></dt>
<dd><p>Required on other platforms</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chipwhisperer.targets.SimpleSerial2.read">
<span class="sig-name descname"><span class="pre">read</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num_char</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">250</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chipwhisperer.targets.SimpleSerial2.read" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads data from the target over serial.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>num_char</strong> (<em>int</em><em>, </em><em>optional</em>) – Number of byte to read. If 0, read all
data available. Defaults to 0.</p></li>
<li><p><strong>timeout</strong> (<em>int</em><em>, </em><em>optional</em>) – How long in ms to wait before returning.
If 0, block until data received. Defaults to 250.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>String of received data.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chipwhisperer.targets.SimpleSerial2.read_cmd">
<span class="sig-name descname"><span class="pre">read_cmd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cmd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pay_len</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">250</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flush_on_err</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chipwhisperer.targets.SimpleSerial2.read_cmd" title="Permalink to this definition">¶</a></dt>
<dd><p>Read and decode simpleserial-v2 command</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cmd</strong> (<em>str</em><em>, </em><em>optional</em>) – Expected start of the command. Will warn the user if
the received command does not start with this string. Defaults to None</p></li>
<li><p><strong>pay_len</strong> (<em>int</em><em>, </em><em>optional</em>) – Expected length of the returned bytearray in number
of bytes. If None, uses the length field of the packet to
determine how much data to read</p></li>
<li><p><strong>timeout</strong> (<em>int</em><em>, </em><em>optional</em>) – Value to use for timeouts during initial
read of expected data in ms. If 0, block until all expected
data is returned. Defaults to 250.</p></li>
<li><p><strong>flush_on_err</strong> (<em>bool/None</em><em>, </em><em>optional</em>) – If True, reset/flush the serial lines.
If False, don’t. If None, determine via whether or not flush_on_err
was True or False when passed to con()</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chipwhisperer.targets.SimpleSerial2.reset_comms">
<span class="sig-name descname"><span class="pre">reset_comms</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#chipwhisperer.targets.SimpleSerial2.reset_comms" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to reset communication with the target and put it in
a state to read commands</p>
<p>Sends 10 0x00 bytes, sleeps for 0.05 seconds, then flushes the serial buffer</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chipwhisperer.targets.SimpleSerial2.send_cmd">
<span class="sig-name descname"><span class="pre">send_cmd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cmd</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scmd</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chipwhisperer.targets.SimpleSerial2.send_cmd" title="Permalink to this definition">¶</a></dt>
<dd><p>Send a SSV2 command to the target.</p>
<p>Does all the CRC/Byte stuffing for you</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cmd</strong> (<em>char</em><em> or </em><em>int</em>) – The command to use</p></li>
<li><p><strong>scmd</strong> (<em>int</em>) – The subcommand to use</p></li>
<li><p><strong>data</strong> (<em>bytearray</em>) – The data to send</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chipwhisperer.targets.SimpleSerial2.set_key">
<span class="sig-name descname"><span class="pre">set_key</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ack</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">250</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">always_send</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chipwhisperer.targets.SimpleSerial2.set_key" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks if key is different than the last one sent. If so, send it.</p>
<p>Uses simpleserial_write(‘k’)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> (<em>bytearray</em>) – key to send</p></li>
<li><p><strong>ack</strong> (<em>bool</em><em>, </em><em>optional</em>) – Wait for ack after sending key. Defaults to
True.</p></li>
<li><p><strong>timeout</strong> (<em>int</em><em>, </em><em>optional</em>) – How long in ms to wait for the ack.
Defaults to 250.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>Warning</strong> – Device did not ack or error during read.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chipwhisperer.targets.SimpleSerial2.simpleserial_read">
<span class="sig-name descname"><span class="pre">simpleserial_read</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cmd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pay_len</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'\n'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">250</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ack</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chipwhisperer.targets.SimpleSerial2.simpleserial_read" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads back response from target and ack packet.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cmd</strong> (<em>str</em><em>, </em><em>optional</em>) – Expected start of the command. Will warn the user if
the received command does not start with this string. Defaults to None</p></li>
<li><p><strong>pay_len</strong> (<em>int</em><em>, </em><em>optional</em>) – Expected length of the returned bytearray in number
of bytes. If None, uses the length field of the packet to
determine how much data to read</p></li>
<li><p><strong>end</strong> (<em>str</em><em>, </em><em>optional</em>) – Unused</p></li>
<li><p><strong>timeout</strong> (<em>int</em><em>, </em><em>optional</em>) – Value to use for timeouts during initial
read of expected data in ms. If 0, block until all expected
data is returned. Defaults to 250.</p></li>
<li><p><strong>ack</strong> (<em>bool</em><em>, </em><em>optional</em>) – Expect an ack packet at the end for SimpleSerial
2. Defaults to True.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chipwhisperer.targets.SimpleSerial2.simpleserial_read_witherrors">
<span class="sig-name descname"><span class="pre">simpleserial_read_witherrors</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cmd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pay_len</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'\n'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">250</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">glitch_timeout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ack</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chipwhisperer.targets.SimpleSerial2.simpleserial_read_witherrors" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads a simpleserial command from the target over serial, but returns invalid responses.</p>
<p>Reads a command starting with &lt;start&gt; with a COBS encoded bytearray
payload of length pay_len (i.e. pay_len=16 for an AES128 key) and
ending with 0x00. Does normal read_cmd() stuff (decoding, etc).
If an error is found (timeout, frame issues, etc), a single
read of 1000 character with glitch_timeout as a timeout is done, and the raw
response is returned.</p>
<p>The packet will be valid if:</p>
<blockquote>
<div><ul class="simple">
<li><p>All requested reads return the requested characters</p></li>
<li><p>No frame bytes except the terminator are read</p></li>
<li><p>The packet doesn’t end with a frame byte</p></li>
<li><p>If an ack packet isn’t received</p></li>
</ul>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cmd</strong> (<em>str</em><em>, </em><em>optional</em>) – Expected start of the command. Will warn the user if
the received command does not start with this string. Defaults to None</p></li>
<li><p><strong>pay_len</strong> (<em>int</em><em>, </em><em>optional</em>) – Expected length of the returned bytearray in number
of bytes. If None, uses the length field of the packet to
determine how much data to read</p></li>
<li><p><strong>end</strong> (<em>str</em><em>, </em><em>optional</em>) – Unused</p></li>
<li><p><strong>timeout</strong> (<em>int</em><em>, </em><em>optional</em>) – Value to use for timeouts during initial
read of expected data in ms. If 0, block until all expected
data is returned. Defaults to 250.</p></li>
<li><p><strong>glitch_timeout</strong> (<em>int</em><em>, </em><em>optional</em>) – Value to wait for additional data
if expected data isn’t returned. Useful to have a longer
timeout for a reset or other unexpected event. Defaults to 1000</p></li>
<li><p><strong>ack</strong> (<em>bool</em><em>, </em><em>optional</em>) – Expect an ack packet at the end for SimpleSerial
&gt;= 2. Defaults to True.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>valid (bool): Did response look valid?
payload: Bytearray of decoded data (only if valid is ‘True’, otherwise None)
full_response: Raw output of serial port.
rv: If ‘ack’ in command, includes return value</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>A dictionary with these elements</p>
</dd>
</dl>
<p class="rubric">Example</p>
<dl class="simple">
<dt>Reading the output of one of the glitch tests when no error:</dt><dd><p>resp = target.simpleserial_read_witherrors(‘r’, 4)
print(resp)
&gt;{‘valid’: True, ‘payload’: CWbytearray(b’c4 09 00 00’), ‘full_response’: ‘rC4090000n’, ‘rv’: 0}</p>
</dd>
<dt>Reading the output of one of the glitch tests when an error happened:</dt><dd><p>resp = target.simpleserial_read_witherrors(‘r’, 4)
print(resp)
&gt;{‘valid’: False, ‘payload’: None, ‘full_response’: ‘x00x00x00x00x00x00x00rRESET   n’, ‘rv’: None}</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>Warning</strong> – Device did not ack or error during read.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chipwhisperer.targets.SimpleSerial2.simpleserial_wait_ack">
<span class="sig-name descname"><span class="pre">simpleserial_wait_ack</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">500</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chipwhisperer.targets.SimpleSerial2.simpleserial_wait_ack" title="Permalink to this definition">¶</a></dt>
<dd><p>Waits for an ack/error packet from the target for timeout ms</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>timeout</strong> (<em>int</em><em>, </em><em>optional</em>) – Time to wait for an ack in ms. If 0, block
until we get an ack. Defaults to 500.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The return code from the ChipWhisperer command or None if the target
failed to ack</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chipwhisperer.targets.SimpleSerial2.simpleserial_write">
<span class="sig-name descname"><span class="pre">simpleserial_write</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cmd</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'\n'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chipwhisperer.targets.SimpleSerial2.simpleserial_write" title="Permalink to this definition">¶</a></dt>
<dd><p>Mimic SimpleSerial v1 behaviour with new firmware</p>
<p>Internal/firmware details may change</p>
<p>Special cases for ‘p’ and ‘k’ to use sub command
to select what to do with simpleserial-aes</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cmd</strong> (<em>str</em>) – If ‘p’, SSV2 cmd=0x01, scmd=0x01. If ‘k’, SSV2 cmd=0x01, scmd=0x02.
Otherwise, SSV2 cmd=cmd, scmd=0x00.</p></li>
<li><p><strong>data</strong> (<em>bytearray</em>) – Number to write as part of command. For example,
the 16 byte plaintext for the ‘p’ command. If an empty list is given,
[0x00] is sent.</p></li>
<li><p><strong>end</strong> (<em>str</em><em>, </em><em>optional</em>) – Unused</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<p>Sending a ‘p’ command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">key</span><span class="p">,</span> <span class="n">pt</span> <span class="o">=</span> <span class="n">ktp</span><span class="o">.</span><span class="n">new_pair</span><span class="p">()</span>
<span class="n">target</span><span class="o">.</span><span class="n">simpleserial_write</span><span class="p">(</span><span class="s1">&#39;p&#39;</span><span class="p">,</span> <span class="n">pt</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chipwhisperer.targets.SimpleSerial2.strerror">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">strerror</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">e</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chipwhisperer.targets.SimpleSerial2.strerror" title="Permalink to this definition">¶</a></dt>
<dd><p>Get string error message based on integer error e</p>
</dd></dl>

</dd></dl>

</section>
<section id="simple-serial-v2-cdc-target">
<h3>Simple Serial V2 CDC Target<a class="headerlink" href="#simple-serial-v2-cdc-target" title="Permalink to this heading">¶</a></h3>
<p>Variant of <a class="reference internal" href="#api-target-simpleserial2"><span class="std std-ref">Simple Serial V2 Target</span></a> that uses the ChipWhisperer’s CDC serial port instead of
its custom USB interface.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">chipwhisperer</span> <span class="k">as</span> <span class="nn">cw</span>
<span class="n">scope</span> <span class="o">=</span> <span class="n">cw</span><span class="o">.</span><span class="n">scope</span><span class="p">()</span>
<span class="n">target</span> <span class="o">=</span> <span class="n">cw</span><span class="o">.</span><span class="n">target</span><span class="p">(</span><span class="n">scope</span><span class="p">,</span> <span class="n">cw</span><span class="o">.</span><span class="n">targets</span><span class="o">.</span><span class="n">SimpleSerial2_CDC</span><span class="p">)</span> <span class="c1"># autodetects COM (/dev/ttyACMx) port</span>
</pre></div>
</div>
<dl class="py class">
<dt class="sig sig-object py" id="chipwhisperer.targets.SimpleSerial2_CDC">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">SimpleSerial2_CDC</span></span><a class="headerlink" href="#chipwhisperer.targets.SimpleSerial2_CDC" title="Permalink to this definition">¶</a></dt>
<dd><p>Target Option for Using SSV2 with a CDC Port</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 5.5: </span>Added CDC SSV2</p>
</div>
<p>Currently, the easiest way to use it is:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">scope</span> <span class="o">=</span> <span class="n">cw</span><span class="o">.</span><span class="n">scope</span><span class="p">()</span>
<span class="n">target</span> <span class="o">=</span> <span class="n">cw</span><span class="o">.</span><span class="n">target</span><span class="p">(</span><span class="n">scope</span><span class="p">,</span> <span class="n">cw</span><span class="o">.</span><span class="n">targets</span><span class="o">.</span><span class="n">SimpleSerial2_CDC</span><span class="p">)</span>
</pre></div>
</div>
<p>Upon connection, this target object will using USB info from
the scope object to figure out which serial port to use. You
can also specify the serial port manually using the dev_path
parameter.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">target</span> <span class="o">=</span> <span class="n">cw</span><span class="o">.</span><span class="n">target</span><span class="p">(</span><span class="n">scope</span><span class="p">,</span> <span class="n">cw</span><span class="o">.</span><span class="n">targets</span><span class="o">.</span><span class="n">SimpleSerial2_CDC</span><span class="p">,</span> <span class="n">dev_path</span><span class="o">=</span><span class="s1">&#39;COM5&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Other than that, usage is mostly the same as regular simpleserial
V2, except the read timeout is always fixed to 250ms.</p>
<p>It does offer better performance than the regular SSV2 object
if reading serial data back from the target.</p>
<dl class="py property">
<dt class="sig sig-object py" id="chipwhisperer.targets.SimpleSerial2_CDC.baud">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">baud</span></span><a class="headerlink" href="#chipwhisperer.targets.SimpleSerial2_CDC.baud" title="Permalink to this definition">¶</a></dt>
<dd><p>The current baud rate of the serial connection.</p>
<dl class="field-list simple">
<dt class="field-odd">Getter<span class="colon">:</span></dt>
<dd class="field-odd"><p>Return the current baud rate.</p>
</dd>
<dt class="field-even">Setter<span class="colon">:</span></dt>
<dd class="field-even"><p>Set a new baud rate. Valid baud rates are any integer in the
range [500, 2000000].</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>AttributeError</strong> – Target doesn’t allow baud to be changed.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chipwhisperer.targets.SimpleSerial2_CDC.close">
<span class="sig-name descname"><span class="pre">close</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#chipwhisperer.targets.SimpleSerial2_CDC.close" title="Permalink to this definition">¶</a></dt>
<dd><p>Close target</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chipwhisperer.targets.SimpleSerial2_CDC.con">
<span class="sig-name descname"><span class="pre">con</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scope</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dev_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">interface</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flush_on_err</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chipwhisperer.targets.SimpleSerial2_CDC.con" title="Permalink to this definition">¶</a></dt>
<dd><p>Connect to target</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chipwhisperer.targets.SimpleSerial2_CDC.flush">
<span class="sig-name descname"><span class="pre">flush</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#chipwhisperer.targets.SimpleSerial2_CDC.flush" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes all data from the serial buffer.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chipwhisperer.targets.SimpleSerial2_CDC.in_waiting">
<span class="sig-name descname"><span class="pre">in_waiting</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#chipwhisperer.targets.SimpleSerial2_CDC.in_waiting" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the number of characters available from the serial buffer.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The number of characters available via a target.read() call.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chipwhisperer.targets.SimpleSerial2_CDC.in_waiting_tx">
<span class="sig-name descname"><span class="pre">in_waiting_tx</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#chipwhisperer.targets.SimpleSerial2_CDC.in_waiting_tx" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the number of characters waiting to be sent by the ChipWhisperer.</p>
<p>Requires firmware version &gt;= 0.2 for the CWLite/Nano and firmware version and
firmware version &gt;= 1.2 for the CWPro.</p>
<p>Used internally to avoid overflowing the TX buffer, since CW version 5.3</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The number of characters waiting to be sent to the target</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chipwhisperer.targets.SimpleSerial2_CDC.read">
<span class="sig-name descname"><span class="pre">read</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num_char</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">250</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chipwhisperer.targets.SimpleSerial2_CDC.read" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads data from the target over serial.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>num_char</strong> (<em>int</em><em>, </em><em>optional</em>) – Number of byte to read. If 0, read all
data available. Defaults to 0.</p></li>
<li><p><strong>timeout</strong> (<em>int</em><em>, </em><em>optional</em>) – How long in ms to wait before returning.
If 0, block until data received. Defaults to 250.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>String of received data.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
</section>
<section id="fpga-targets">
<h2>FPGA Targets<a class="headerlink" href="#fpga-targets" title="Permalink to this heading">¶</a></h2>
<section id="cw305-fpga-target">
<span id="api-target-cw305"></span><h3>CW305 FPGA Target<a class="headerlink" href="#cw305-fpga-target" title="Permalink to this heading">¶</a></h3>
<p>Used for controlling and communicating with the
<a class="reference external" href="https://rtfm.newae.com/Targets/CW305%20Artix%20FPGA/">CW305 Artix FPGA Target</a>.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">chipwhisperer</span> <span class="k">as</span> <span class="nn">cw</span>
<span class="n">target</span> <span class="o">=</span> <span class="n">cw</span><span class="o">.</span><span class="n">target</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">cw</span><span class="o">.</span><span class="n">targets</span><span class="o">.</span><span class="n">CW305</span><span class="p">)</span> <span class="c1"># programs default bitstream, see _con() for full arg list</span>
</pre></div>
</div>
<p>Examples:</p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference external" href="https://github.com/newaetech/chipwhisperer-jupyter/blob/master/demos/PA_HW_CW305_1-Attacking_AES_on_an_FPGA.ipynb">Attacking AES</a></p></li>
<li><p><a class="reference external" href="https://github.com/newaetech/chipwhisperer-jupyter/tree/master/demos/CW305_ECC">Attacking ECC</a></p></li>
</ul>
</div></blockquote>
<dl class="py class">
<dt class="sig sig-object py" id="chipwhisperer.targets.CW305">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">CW305</span></span><a class="headerlink" href="#chipwhisperer.targets.CW305" title="Permalink to this definition">¶</a></dt>
<dd><p>CW305 target object.</p>
<p>This class contains the public API for the CW305 hardware.
To connect to the CW305, the easiest method is:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">chipwhisperer</span> <span class="k">as</span> <span class="nn">cw</span>
<span class="n">scope</span> <span class="o">=</span> <span class="n">cw</span><span class="o">.</span><span class="n">scope</span><span class="p">()</span>

<span class="c1"># scope can also be None here, unlike with the default SimpleSerial</span>
<span class="n">target</span> <span class="o">=</span> <span class="n">cw</span><span class="o">.</span><span class="n">target</span><span class="p">(</span><span class="n">scope</span><span class="p">,</span>
        <span class="n">cw</span><span class="o">.</span><span class="n">targets</span><span class="o">.</span><span class="n">CW305</span><span class="p">,</span> <span class="n">bsfile</span><span class="o">=&lt;</span><span class="n">valid</span> <span class="n">FPGA</span> <span class="n">bitstream</span> <span class="n">file</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
<p>As of CW5.3, you can also specify the following:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># can also be &#39;35t&#39;</span>
<span class="n">target</span> <span class="o">=</span> <span class="n">cw</span><span class="o">.</span><span class="n">target</span><span class="p">(</span><span class="n">scope</span><span class="p">,</span> <span class="n">fpga_id</span><span class="o">=</span><span class="s1">&#39;100t&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>To automatically program with the example AES bitstream</p>
<p>If you’re using the reference designs, typical configuration
requires you to set the FPGA VCC-INT voltage and enable and
set the clock via the PLL. You’ll probably also want to
disable the USB clock during encryption to reduce noise:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">target</span><span class="o">.</span><span class="n">vccint_set</span><span class="p">(</span><span class="mf">1.0</span><span class="p">)</span> <span class="c1">#set VCC-INT to 1V</span>

<span class="n">target</span><span class="o">.</span><span class="n">pll</span><span class="o">.</span><span class="n">pll_enable_set</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span> <span class="c1">#Enable PLL chip</span>
<span class="n">target</span><span class="o">.</span><span class="n">pll</span><span class="o">.</span><span class="n">pll_outenable_set</span><span class="p">(</span><span class="kc">False</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="c1"># Disable unused PLL0</span>
<span class="n">target</span><span class="o">.</span><span class="n">pll</span><span class="o">.</span><span class="n">pll_outenable_set</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>  <span class="c1"># Enable PLL</span>
<span class="n">target</span><span class="o">.</span><span class="n">pll</span><span class="o">.</span><span class="n">pll_outenable_set</span><span class="p">(</span><span class="kc">False</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="c1"># Disable unused PLL2</span>

<span class="c1"># optional, but reduces power trace noise</span>
<span class="n">target</span><span class="o">.</span><span class="n">clkusbautooff</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">target</span><span class="o">.</span><span class="n">clksleeptime</span> <span class="o">=</span> <span class="mi">1</span> <span class="c1"># 1ms typically good for sleep</span>
</pre></div>
</div>
<p>Don’t forget to clock the ChipWhisperer ADC off the FPGA instead
of the internal clock:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">scope</span><span class="o">.</span><span class="n">clock</span><span class="o">.</span><span class="n">adc_src</span> <span class="o">=</span> <span class="s2">&quot;extclk_x4&quot;</span>
<span class="n">scope</span><span class="o">.</span><span class="n">clock</span><span class="o">.</span><span class="n">reset_adc</span><span class="p">()</span> <span class="c1"># make sure the DCM is locked</span>
</pre></div>
</div>
<p>Note that connecting to the CW305 includes programming the CW305 FPGA,
if it isn’t already.</p>
<p>For more help about CW305 settings, try help() on this CW305 submodule:</p>
<blockquote>
<div><ul class="simple">
<li><p>target.pll</p></li>
</ul>
</div></blockquote>
<dl class="py method">
<dt class="sig sig-object py" id="chipwhisperer.targets.CW305.INITB_state">
<span class="sig-name descname"><span class="pre">INITB_state</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#chipwhisperer.targets.CW305.INITB_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the state of the FPGA’s INITB pin</p>
<p>The INITB is high when the FPGA is programmed, and low when it is not</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>True if the INITB is high, False if INITB is low, None if the result is invalid</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chipwhisperer.targets.CW305.batchRun">
<span class="sig-name descname"><span class="pre">batchRun</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">batchsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1024</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">random_key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">random_pt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chipwhisperer.targets.CW305.batchRun" title="Permalink to this definition">¶</a></dt>
<dd><p>Run multiple encryptions on random data</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>batchsize</strong> (<em>int</em>) – The number of encryption to run (default 1024).</p></li>
<li><p><strong>random_key</strong> (<em>bool</em>) – True if the key is random (default False).</p></li>
<li><p><strong>random_pt</strong> (<em>bool</em>) – True if the plaintext are random (default True).</p></li>
<li><p><strong>seed</strong> (<em>int</em>) – random int32 for the PRG.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chipwhisperer.targets.CW305.checkEncryptionKey">
<span class="sig-name descname"><span class="pre">checkEncryptionKey</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chipwhisperer.targets.CW305.checkEncryptionKey" title="Permalink to this definition">¶</a></dt>
<dd><p>Validate encryption key</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chipwhisperer.targets.CW305.dis">
<span class="sig-name descname"><span class="pre">dis</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#chipwhisperer.targets.CW305.dis" title="Permalink to this definition">¶</a></dt>
<dd><p>Disconnect from target</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chipwhisperer.targets.CW305.fpga_read">
<span class="sig-name descname"><span class="pre">fpga_read</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">addr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">readlen</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chipwhisperer.targets.CW305.fpga_read" title="Permalink to this definition">¶</a></dt>
<dd><p>Read from an address on the FPGA</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>addr</strong> (<em>int</em>) – Address to read from</p></li>
<li><p><strong>readlen</strong> (<em>int</em>) – Length of data to read</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Requested data as a list</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chipwhisperer.targets.CW305.fpga_write">
<span class="sig-name descname"><span class="pre">fpga_write</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">addr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chipwhisperer.targets.CW305.fpga_write" title="Permalink to this definition">¶</a></dt>
<dd><p>Write to an address on the FPGA</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>addr</strong> (<em>int</em>) – Address to write to</p></li>
<li><p><strong>data</strong> (<em>list</em>) – Data to write to addr</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chipwhisperer.targets.CW305.get_fpga_buildtime">
<span class="sig-name descname"><span class="pre">get_fpga_buildtime</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#chipwhisperer.targets.CW305.get_fpga_buildtime" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns date and time when FPGA bitfile was generated.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chipwhisperer.targets.CW305.go">
<span class="sig-name descname"><span class="pre">go</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#chipwhisperer.targets.CW305.go" title="Permalink to this definition">¶</a></dt>
<dd><p>Disable USB clock (if requested), perform encryption, re-enable clock</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chipwhisperer.targets.CW305.is_done">
<span class="sig-name descname"><span class="pre">is_done</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#chipwhisperer.targets.CW305.is_done" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if FPGA is done</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chipwhisperer.targets.CW305.is_programmed">
<span class="sig-name descname"><span class="pre">is_programmed</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#chipwhisperer.targets.CW305.is_programmed" title="Permalink to this definition">¶</a></dt>
<dd><p>Is FPGA programmed</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>True if the FPGA is programmed, otherwise False</p>
</dd>
</dl>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This function may erroneously return True if the FPGA is not powered</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chipwhisperer.targets.CW305.loadEncryptionKey">
<span class="sig-name descname"><span class="pre">loadEncryptionKey</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chipwhisperer.targets.CW305.loadEncryptionKey" title="Permalink to this definition">¶</a></dt>
<dd><p>Write encryption key to FPGA</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chipwhisperer.targets.CW305.loadInput">
<span class="sig-name descname"><span class="pre">loadInput</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inputtext</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chipwhisperer.targets.CW305.loadInput" title="Permalink to this definition">¶</a></dt>
<dd><p>Write input to FPGA</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chipwhisperer.targets.CW305.readOutput">
<span class="sig-name descname"><span class="pre">readOutput</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#chipwhisperer.targets.CW305.readOutput" title="Permalink to this definition">¶</a></dt>
<dd><p>“Read output from FPGA</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chipwhisperer.targets.CW305.set_key">
<span class="sig-name descname"><span class="pre">set_key</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ack</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">250</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">always_send</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chipwhisperer.targets.CW305.set_key" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks if key is different from the last one sent. If so, send it.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> (<em>bytearray</em>) – key to send</p></li>
<li><p><strong>ack</strong> – Unused</p></li>
<li><p><strong>timeout</strong> – Unused</p></li>
</ul>
</dd>
</dl>
<div class="versionadded">
<p><span class="versionmodified added">New in version 5.1: </span>Added set_key to CW305</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chipwhisperer.targets.CW305.simpleserial_read">
<span class="sig-name descname"><span class="pre">simpleserial_read</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cmd</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pay_len</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'\n'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">250</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ack</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chipwhisperer.targets.CW305.simpleserial_read" title="Permalink to this definition">¶</a></dt>
<dd><p>Read data from target</p>
<p>Mimics simpleserial protocol of serial based targets</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cmd</strong> (<em>str</em>) – Command to ues. Only accepts ‘r’ for now.</p></li>
<li><p><strong>pay_len</strong> – Unused</p></li>
<li><p><strong>end</strong> – Unused</p></li>
<li><p><strong>timeout</strong> – Unused</p></li>
<li><p><strong>ack</strong> – Unused</p></li>
</ul>
</dd>
</dl>
<p>Returns: Value from Crypto output register</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 5.1: </span>Added simpleserial_read to CW305</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chipwhisperer.targets.CW305.simpleserial_write">
<span class="sig-name descname"><span class="pre">simpleserial_write</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cmd</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chipwhisperer.targets.CW305.simpleserial_write" title="Permalink to this definition">¶</a></dt>
<dd><p>Write data to target.</p>
<p>Mimics simpleserial protocol of serial based targets.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cmd</strong> (<em>str</em>) – Command to use. Target supports ‘p’ (write plaintext),
and ‘k’ (write key).</p></li>
<li><p><strong>data</strong> (<em>bytearray</em>) – Data to write to target</p></li>
<li><p><strong>end</strong> – Unused</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – Unknown command</p>
</dd>
</dl>
<div class="versionadded">
<p><span class="versionmodified added">New in version 5.1: </span>Added simpleserial_write to CW305</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chipwhisperer.targets.CW305.slurp_defines">
<span class="sig-name descname"><span class="pre">slurp_defines</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">defines_files</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chipwhisperer.targets.CW305.slurp_defines" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse Verilog defines file so we can access register and bit
definitions by name and avoid ‘magic numbers’.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>defines_files</strong> (<em>list</em>) – list of Verilog define files to parse</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<section id="target-pll">
<h4>target.pll<a class="headerlink" href="#target-pll" title="Permalink to this heading">¶</a></h4>
<dl class="py class">
<dt class="sig sig-object py" id="chipwhisperer.hardware.naeusb.pll_cdce906.PLLCDCE906">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">PLLCDCE906</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">usb</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ref_freq</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">board</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'CW305'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chipwhisperer.hardware.naeusb.pll_cdce906.PLLCDCE906" title="Permalink to this definition">¶</a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py" id="chipwhisperer.hardware.naeusb.pll_cdce906.PLLCDCE906.calcMulDiv">
<span class="sig-name descname"><span class="pre">calcMulDiv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">freqdesired</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">freqsource</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chipwhisperer.hardware.naeusb.pll_cdce906.PLLCDCE906.calcMulDiv" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate Multiply &amp; Divide settings for PLL based on input frequency</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chipwhisperer.hardware.naeusb.pll_cdce906.PLLCDCE906.cdce906init">
<span class="sig-name descname"><span class="pre">cdce906init</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#chipwhisperer.hardware.naeusb.pll_cdce906.PLLCDCE906.cdce906init" title="Permalink to this definition">¶</a></dt>
<dd><p>Set defaults on CDCE906 PLL Chip</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chipwhisperer.hardware.naeusb.pll_cdce906.PLLCDCE906.cdce906read">
<span class="sig-name descname"><span class="pre">cdce906read</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">addr</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chipwhisperer.hardware.naeusb.pll_cdce906.PLLCDCE906.cdce906read" title="Permalink to this definition">¶</a></dt>
<dd><p>Read a byte from the CDCE906 External PLL Chip</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chipwhisperer.hardware.naeusb.pll_cdce906.PLLCDCE906.cdce906setoutput">
<span class="sig-name descname"><span class="pre">cdce906setoutput</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">outpin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">divsource</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">slewrate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'+0nS'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">enabled</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inverted</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chipwhisperer.hardware.naeusb.pll_cdce906.PLLCDCE906.cdce906setoutput" title="Permalink to this definition">¶</a></dt>
<dd><p>Setup the outputs for the PLL chip</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chipwhisperer.hardware.naeusb.pll_cdce906.PLLCDCE906.cdce906write">
<span class="sig-name descname"><span class="pre">cdce906write</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">addr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chipwhisperer.hardware.naeusb.pll_cdce906.PLLCDCE906.cdce906write" title="Permalink to this definition">¶</a></dt>
<dd><p>Write a byte to the CDCE906 External PLL Chip</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chipwhisperer.hardware.naeusb.pll_cdce906.PLLCDCE906.outnumToPin">
<span class="sig-name descname"><span class="pre">outnumToPin</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">outnum</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chipwhisperer.hardware.naeusb.pll_cdce906.PLLCDCE906.outnumToPin" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert from PLL Number to actual output pin</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chipwhisperer.hardware.naeusb.pll_cdce906.PLLCDCE906.outputUpdateOutputs">
<span class="sig-name descname"><span class="pre">outputUpdateOutputs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">outnum</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pllsrc_new</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pllenabled_new</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pllslewrate_new</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chipwhisperer.hardware.naeusb.pll_cdce906.PLLCDCE906.outputUpdateOutputs" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the output pins with enabled/disabled, slew rate, etc</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chipwhisperer.hardware.naeusb.pll_cdce906.PLLCDCE906.pll_enable_get">
<span class="sig-name descname"><span class="pre">pll_enable_get</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#chipwhisperer.hardware.naeusb.pll_cdce906.PLLCDCE906.pll_enable_get" title="Permalink to this definition">¶</a></dt>
<dd><p>Read if PLL chip is enabled or disabled</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chipwhisperer.hardware.naeusb.pll_cdce906.PLLCDCE906.pll_enable_set">
<span class="sig-name descname"><span class="pre">pll_enable_set</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">enabled</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chipwhisperer.hardware.naeusb.pll_cdce906.PLLCDCE906.pll_enable_set" title="Permalink to this definition">¶</a></dt>
<dd><p>Enable or disable the PLL chip</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chipwhisperer.hardware.naeusb.pll_cdce906.PLLCDCE906.pll_outenable_get">
<span class="sig-name descname"><span class="pre">pll_outenable_get</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">outnum</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chipwhisperer.hardware.naeusb.pll_cdce906.PLLCDCE906.pll_outenable_get" title="Permalink to this definition">¶</a></dt>
<dd><p>Get whether a PLL is enabled or not</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>outnum</strong> (<em>int</em>) – The PLL to get the enable status of</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if the PLL is enabled, False if it isn’t</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chipwhisperer.hardware.naeusb.pll_cdce906.PLLCDCE906.pll_outenable_set">
<span class="sig-name descname"><span class="pre">pll_outenable_set</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">enabled</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outnum</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chipwhisperer.hardware.naeusb.pll_cdce906.PLLCDCE906.pll_outenable_set" title="Permalink to this definition">¶</a></dt>
<dd><p>Enable or disable a PLL</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>enabled</strong> (<em>bool</em>) – Whether to enable (True) or disable (False) the
specified PLL.</p></li>
<li><p><strong>outnum</strong> (<em>int</em>) – The PLL to enable or disable</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chipwhisperer.hardware.naeusb.pll_cdce906.PLLCDCE906.pll_outfreq_get">
<span class="sig-name descname"><span class="pre">pll_outfreq_get</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">outnum</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chipwhisperer.hardware.naeusb.pll_cdce906.PLLCDCE906.pll_outfreq_get" title="Permalink to this definition">¶</a></dt>
<dd><p>Read the programmed output frequency from a PLL on the CW305</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>outnum</strong> (<em>int</em>) – PLL to read from (i.e. for PLL 0, use outnum=0)</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The output frequency of the specified PLL</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chipwhisperer.hardware.naeusb.pll_cdce906.PLLCDCE906.pll_outfreq_set">
<span class="sig-name descname"><span class="pre">pll_outfreq_set</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">freq</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outnum</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chipwhisperer.hardware.naeusb.pll_cdce906.PLLCDCE906.pll_outfreq_set" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the output frequency of a PLL</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>freq</strong> (<em>int</em>) – The desired output frequency of the PLL. Must be in
range [630kHz, 167MHz]</p></li>
<li><p><strong>outnum</strong> (<em>int</em>) – The PLL to set the output frequency of</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – Desired frequency is bigger than 167MHz or smaller than
    630kHz</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chipwhisperer.hardware.naeusb.pll_cdce906.PLLCDCE906.pll_outslew_get">
<span class="sig-name descname"><span class="pre">pll_outslew_get</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">outnum</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chipwhisperer.hardware.naeusb.pll_cdce906.PLLCDCE906.pll_outslew_get" title="Permalink to this definition">¶</a></dt>
<dd><p>Get slew rate of PLL output</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chipwhisperer.hardware.naeusb.pll_cdce906.PLLCDCE906.pll_outslew_set">
<span class="sig-name descname"><span class="pre">pll_outslew_set</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">slew</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outnum</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chipwhisperer.hardware.naeusb.pll_cdce906.PLLCDCE906.pll_outslew_set" title="Permalink to this definition">¶</a></dt>
<dd><p>Set clock slew rate for the selected clock output.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>slew</strong> (<em>string</em>) – Desired slew rate. Allowed values: ‘+3nS’, ‘+2nS’,
‘+1nS’, ‘+0nS’.</p></li>
<li><p><strong>outnum</strong> (<em>int</em>) – PLL output</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – Invalid PLL output or invalid slew value</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chipwhisperer.hardware.naeusb.pll_cdce906.PLLCDCE906.pll_outsource_get">
<span class="sig-name descname"><span class="pre">pll_outsource_get</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">outnum</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chipwhisperer.hardware.naeusb.pll_cdce906.PLLCDCE906.pll_outsource_get" title="Permalink to this definition">¶</a></dt>
<dd><p>Get output source settings</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chipwhisperer.hardware.naeusb.pll_cdce906.PLLCDCE906.pll_outsource_set">
<span class="sig-name descname"><span class="pre">pll_outsource_set</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outnum</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chipwhisperer.hardware.naeusb.pll_cdce906.PLLCDCE906.pll_outsource_set" title="Permalink to this definition">¶</a></dt>
<dd><p>Update clock source for the selected clock output.</p>
<p>Output 0 can be configured for PLL0, PLL1, or PLL2.</p>
<p>Output 1 is restricted to PLL1.</p>
<p>Output 2 is restricted to PLL2.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>source</strong> (<em>String</em>) – Desired clock source (‘PLL0’, ‘PLL1’, ‘PLL2’)</p></li>
<li><p><strong>outnum</strong> (<em>int</em>) – Output to configure. 0 goes to CLK-SMA X6, 1 goes
to FPGA pin N13, and 2 goes to FPGA pin E12.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – Invalid source for specified clock output</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chipwhisperer.hardware.naeusb.pll_cdce906.PLLCDCE906.pll_writedefaults">
<span class="sig-name descname"><span class="pre">pll_writedefaults</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#chipwhisperer.hardware.naeusb.pll_cdce906.PLLCDCE906.pll_writedefaults" title="Permalink to this definition">¶</a></dt>
<dd><p>Save PLL settings to EEPROM, making them power-on defaults</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chipwhisperer.hardware.naeusb.pll_cdce906.PLLCDCE906.pllread">
<span class="sig-name descname"><span class="pre">pllread</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pllnum</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chipwhisperer.hardware.naeusb.pll_cdce906.PLLCDCE906.pllread" title="Permalink to this definition">¶</a></dt>
<dd><p>Read N/M/output divisors from PLL chip</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chipwhisperer.hardware.naeusb.pll_cdce906.PLLCDCE906.pllwrite">
<span class="sig-name descname"><span class="pre">pllwrite</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pllnum</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">N</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">M</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outdiv</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chipwhisperer.hardware.naeusb.pll_cdce906.PLLCDCE906.pllwrite" title="Permalink to this definition">¶</a></dt>
<dd><p>Write N/M/output divisors to PLL chip</p>
</dd></dl>

</dd></dl>

</section>
</section>
<section id="cw310">
<span id="api-target-cw310"></span><h3>CW310<a class="headerlink" href="#cw310" title="Permalink to this heading">¶</a></h3>
<p>Used for controlling and communicating with the
<a class="reference external" href="https://rtfm.newae.com/Targets/CW305%20Artix%20FPGA/">CW310 Bergen Board</a>.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">chipwhisperer</span> <span class="k">as</span> <span class="nn">cw</span>
<span class="n">target</span> <span class="o">=</span> <span class="n">cw</span><span class="o">.</span><span class="n">target</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">cw</span><span class="o">.</span><span class="n">targets</span><span class="o">.</span><span class="n">CW310</span><span class="p">)</span>
</pre></div>
</div>
<p>Examples:</p>
<blockquote>
<div><ul class="simple">
<li><p>Coming soon!</p></li>
</ul>
</div></blockquote>
<dl class="py class">
<dt class="sig sig-object py" id="chipwhisperer.capture.targets.CW310.CW310">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">CW310</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chipwhisperer.capture.targets.CW310.CW310" title="Permalink to this definition">¶</a></dt>
<dd><p>CW310 Bergen Board target object.</p>
<p>This class contains the public API for the CW310 hardware.
To connect to the CW310, the easiest method is:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">chipwhisperer</span> <span class="k">as</span> <span class="nn">cw</span>
<span class="n">scope</span> <span class="o">=</span> <span class="n">cw</span><span class="o">.</span><span class="n">scope</span><span class="p">()</span>

<span class="c1"># scope can also be None here, unlike with the default SimpleSerial</span>
<span class="n">target</span> <span class="o">=</span> <span class="n">cw</span><span class="o">.</span><span class="n">target</span><span class="p">(</span><span class="n">scope</span><span class="p">,</span>
        <span class="n">cw</span><span class="o">.</span><span class="n">targets</span><span class="o">.</span><span class="n">CW310</span><span class="p">,</span> <span class="n">bsfile</span><span class="o">=&lt;</span><span class="n">valid</span> <span class="n">FPGA</span> <span class="n">bitstream</span> <span class="n">file</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
<p>Inherits the CW305 object, so you can use the same methods as the CW305, provided the register interface
in your FPGA build is the same.</p>
<p>You can also set the voltage and current settings for the USB-C Power port on the CW310</p>
<blockquote>
<div><p># set USB PDO 3 to 20V 5A
target.usb_set_voltage(3, 20)
target.usb.set_current(3, 5)</p>
<p># renegotiate PDO (applies above settings)
target.usb_negotiate_pdo()</p>
</div></blockquote>
<p>For more help about CW310 settings, try help() on this CW310 submodule:</p>
<blockquote>
<div><ul class="simple">
<li><p>target.pll</p></li>
</ul>
</div></blockquote>
<dl class="py method">
<dt class="sig sig-object py" id="chipwhisperer.capture.targets.CW310.CW310.usb_set_voltage">
<span class="sig-name descname"><span class="pre">usb_set_voltage</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pdo_num</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">voltage</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chipwhisperer.capture.targets.CW310.CW310.usb_set_voltage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the voltage for one of the USBC PDOs.</p>
<p>PDO1 is always 5V 1A and cannot be changed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pdo_num</strong> (<em>int</em>) – The PDO to set the voltage for. Can be 2 or 3</p></li>
<li><p><strong>voltage</strong> (<em>float</em>) – The voltage to set. Must be between 5 and 20 inclusive. Has
a resolution of 0.05V</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chipwhisperer.capture.targets.CW310.CW310.usb_set_current">
<span class="sig-name descname"><span class="pre">usb_set_current</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pdo_num</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">current</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chipwhisperer.capture.targets.CW310.CW310.usb_set_current" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the current for one of the USBC PDOs.</p>
<p>PDO1 is always 5V 1A and cannot be changed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pdo_num</strong> (<em>int</em>) – The PDO to set the current for. Can be 2 or 3</p></li>
<li><p><strong>voltage</strong> (<em>float</em>) – The current to set. Must be between 0.5 and 5 inclusive. Has
a resolution of 0.01A</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chipwhisperer.capture.targets.CW310.CW310.usb_negotiate_pdo">
<span class="sig-name descname"><span class="pre">usb_negotiate_pdo</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#chipwhisperer.capture.targets.CW310.CW310.usb_negotiate_pdo" title="Permalink to this definition">¶</a></dt>
<dd><p>Renegotate the USBC PDOs. Must be done for new PDOs settings to take effect</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chipwhisperer.capture.targets.CW310.CW310.gpio_mode">
<span class="sig-name descname"><span class="pre">gpio_mode</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">200</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chipwhisperer.capture.targets.CW310.CW310.gpio_mode" title="Permalink to this definition">¶</a></dt>
<dd><p>Allow arbitrary GPIO access on SAM3U</p>
<p>Allows low-level IO access to SAM3U GPIO, and also SPI transfers.
(see documentation on the returned object for more info)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>timeout</strong> (<em>int</em>) – USB timeout in ms. Defaults to 200.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A FPGAIO object which can be used to access IO on the CW305.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chipwhisperer.capture.targets.CW310.CW310._con">
<span class="sig-name descname"><span class="pre">_con</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scope</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bsfile</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fpga_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">defines_files</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">slurp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prog_speed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">20000000.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sn</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hw_location</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">platform</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'cw310'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chipwhisperer.capture.targets.CW310.CW310._con" title="Permalink to this definition">¶</a></dt>
<dd><p>Connect to CW305 board, and download bitstream.</p>
<p>If the target has already been programmed it skips reprogramming
unless forced.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>scope</strong> (<em>ScopeTemplate</em>) – An instance of a scope object.</p></li>
<li><p><strong>bsfile</strong> (<em>path</em>) – The path to the bitstream file to program the FPGA with.</p></li>
<li><p><strong>force</strong> (<em>bool</em>) – Whether or not to force reprogramming.</p></li>
<li><p><strong>fpga_id</strong> (<em>string</em>) – ‘100t’, ‘35t’, or None. If bsfile is None and fpga_id specified,
program with AES firmware for fpga_id</p></li>
<li><p><strong>defines_files</strong> (<em>list</em><em>, </em><em>optional</em>) – path to cw305_defines.v</p></li>
<li><p><strong>slurp</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether or not to slurp the Verilog defines.</p></li>
<li><p><strong>platform</strong> (<em>string</em><em>, </em><em>optional</em>) – ‘cw305’, or ‘ss2’ for non-CW305 target FPGA platforms.
The latter is intended for target designs using the ss2.v
simpleserial-to-parallel wrapper.</p></li>
<li><p><strong>version</strong> (<em>optional</em>) – when required to differentiate from multiple possible bitfiles
for a particular target (to be used with fpga_id)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chipwhisperer.capture.targets.CW310.CW310.fpga_write">
<span class="sig-name descname"><span class="pre">fpga_write</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">addr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chipwhisperer.capture.targets.CW310.CW310.fpga_write" title="Permalink to this definition">¶</a></dt>
<dd><p>Write to an address on the FPGA</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>addr</strong> (<em>int</em>) – Address to write to</p></li>
<li><p><strong>data</strong> (<em>list</em>) – Data to write to addr</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chipwhisperer.capture.targets.CW310.CW310.fpga_read">
<span class="sig-name descname"><span class="pre">fpga_read</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">addr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">readlen</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chipwhisperer.capture.targets.CW310.CW310.fpga_read" title="Permalink to this definition">¶</a></dt>
<dd><p>Read from an address on the FPGA</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>addr</strong> (<em>int</em>) – Address to read from</p></li>
<li><p><strong>readlen</strong> (<em>int</em>) – Length of data to read</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Requested data as a list</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="chipwhisperer.capture.targets.CW310.CW310.cdc_settings">
<span class="sig-name descname"><span class="pre">cdc_settings</span></span><em class="property"><span class="w"> </span><span class="pre">target.cdc_settings</span></em><a class="headerlink" href="#chipwhisperer.capture.targets.CW310.CW310.cdc_settings" title="Permalink to this definition">¶</a></dt>
<dd><p>Check or set whether USART settings can be changed via the USB CDC connection</p>
<p>i.e. whether you can change USART settings (baud rate, 8n1) via a serial client like PuTTY</p>
<dl class="field-list simple">
<dt class="field-odd">Getter<span class="colon">:</span></dt>
<dd class="field-odd"><p>An array of length two for the two CDC ports</p>
</dd>
<dt class="field-even">Setter<span class="colon">:</span></dt>
<dd class="field-even"><p>Can set either via an integer (which sets both ports) or an array of length 2 (which sets each port)</p>
</dd>
</dl>
<p>Returns None if using firmware before the CDC port was added</p>
</dd></dl>

</dd></dl>

</section>
<section id="common-target-methods">
<h3>Common Target Methods<a class="headerlink" href="#common-target-methods" title="Permalink to this heading">¶</a></h3>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Both the CW310 and CW305 inherit common methods from <a class="reference internal" href="scope-api.html#api-scope-common"><span class="std std-ref">Common Scope Attributes</span></a></p>
</div>
</section>
</section>
<section id="fpga-advanced-control">
<h2>FPGA Advanced Control<a class="headerlink" href="#fpga-advanced-control" title="Permalink to this heading">¶</a></h2>
<p>Advanced IO control for FPGA targets</p>
<section id="cw305-spi-program">
<span id="id3"></span><h3>CW305 SPI Program<a class="headerlink" href="#cw305-spi-program" title="Permalink to this heading">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="chipwhisperer.capture.targets.CW305.FPGASPI">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">FPGASPI</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">usb</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">200</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chipwhisperer.capture.targets.CW305.FPGASPI" title="Permalink to this definition">¶</a></dt>
<dd><p>Programmer for the CW305’s onboard SPI flash</p>
<p>Built for AT25DF321A, but has customizable codes
for write enable/disable, chip erase, status, write, read,
and block erase, as well as page size.</p>
<p>To program the SPI, the CW305 must be loaded with a special bitstream
(will be done automatically if you specify fpga_id when connecting to the CW305)
and have FW version &gt; 0.30 for its USB microcontroller.</p>
<p>Basic usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">fpga</span> <span class="o">=</span> <span class="n">cw</span><span class="o">.</span><span class="n">target</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">cw</span><span class="o">.</span><span class="n">targets</span><span class="o">.</span><span class="n">CW305</span><span class="p">,</span> <span class="n">fpga_id</span><span class="o">=</span><span class="s1">&#39;100t&#39;</span><span class="p">)</span> <span class="c1">#for CW305_100t</span>
<span class="n">fpga</span> <span class="o">=</span> <span class="n">cw</span><span class="o">.</span><span class="n">target</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">cw</span><span class="o">.</span><span class="n">targets</span><span class="o">.</span><span class="n">CW305</span><span class="p">,</span> <span class="n">fpga_id</span><span class="o">=</span><span class="s1">&#39;35t&#39;</span><span class="p">)</span> <span class="c1">#for CW305_35t</span>
<span class="n">spi</span> <span class="o">=</span> <span class="n">fpga</span><span class="o">.</span><span class="n">spi_mode</span><span class="p">()</span>

<span class="n">spi</span><span class="o">.</span><span class="n">erase_chip</span><span class="p">()</span> <span class="c1"># can also use spi.erase_block() for smaller/faster erases</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;bitfile.bit&#39;</span><span class="p">,</span> <span class="s1">&#39;rb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">data</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
    <span class="n">spi</span><span class="o">.</span><span class="n">program</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="c1"># also verifies by default</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The AT25DF321A has the following behaviour:</p>
<ul class="simple">
<li><p>Writes longer than a page (256 bytes) will use only the last 256 bytes</p></li>
<li><p>Reads can cross page boundaries (though read() and verify() will only read 256 bytes at a time)</p></li>
<li><p>Writes that don’t begin on a page bound will wrap if a page boundary is crossed</p></li>
</ul>
<p>The user is responsible for ensuring that their writes begin on page boundaries.</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="chipwhisperer.capture.targets.CW305.FPGASPI.cmd_read_mem">
<span class="sig-name descname"><span class="pre">cmd_read_mem</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">length</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">addr</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chipwhisperer.capture.targets.CW305.FPGASPI.cmd_read_mem" title="Permalink to this definition">¶</a></dt>
<dd><p>Read up to a page of data</p>
<p>For the default chip, a page is 256 bytes</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>length</strong> (<em>int</em>) – Length of data to read</p></li>
<li><p><strong>addr</strong> (<em>int</em>) – Address to read from</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – length is bigger than a page</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chipwhisperer.capture.targets.CW305.FPGASPI.cmd_write_mem">
<span class="sig-name descname"><span class="pre">cmd_write_mem</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">addr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1000</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chipwhisperer.capture.targets.CW305.FPGASPI.cmd_write_mem" title="Permalink to this definition">¶</a></dt>
<dd><p>Write up to a page of data</p>
<p>For the default chip, a page is 256 bytes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>list</em>) – Data to write</p></li>
<li><p><strong>addr</strong> (<em>int</em>) – Address to write to, defaults to 0x00.</p></li>
<li><p><strong>timeout</strong> (<em>int</em>) – Timeout in ms. If None, set to 0xFFFFFFFF (approx 1000 hours)
Defaults to 1000 (1s).</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>ValueError</strong> – Data is longer than a page</p></li>
<li><p><strong>IOError</strong> – Wait timed out</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chipwhisperer.capture.targets.CW305.FPGASPI.enable_interface">
<span class="sig-name descname"><span class="pre">enable_interface</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">enable</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chipwhisperer.capture.targets.CW305.FPGASPI.enable_interface" title="Permalink to this definition">¶</a></dt>
<dd><p>Enable or disable the SPI interface</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>enable</strong> (<em>bool</em>) – Enable (True) or disable (False) SPI interface</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chipwhisperer.capture.targets.CW305.FPGASPI.enable_write">
<span class="sig-name descname"><span class="pre">enable_write</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">enable</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chipwhisperer.capture.targets.CW305.FPGASPI.enable_write" title="Permalink to this definition">¶</a></dt>
<dd><p>Enable write/erase commands on the SPI chip.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>enable</strong> (<em>bool</em>) – Enable (True) or disable (False) write/erase on the SPI chip</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chipwhisperer.capture.targets.CW305.FPGASPI.erase_block">
<span class="sig-name descname"><span class="pre">erase_block</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">addr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'4K'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1000</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chipwhisperer.capture.targets.CW305.FPGASPI.erase_block" title="Permalink to this definition">¶</a></dt>
<dd><p>Erase a block on the SPI chip. See spi.ERASE_BLOCK for available erase lengths</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>addr</strong> (<em>int</em>) – Address to erase from</p></li>
<li><p><strong>size</strong> (<em>string</em>) – See spi.ERASE_BLOCK for available sizes</p></li>
<li><p><strong>timeout</strong> (<em>int</em>) – Timeout in ms. If None, set to 0xFFFFFFFF (approx 1000 hours)
Defaults to 1000 (1s).</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>IOError</strong> – Erase timed out</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chipwhisperer.capture.targets.CW305.FPGASPI.erase_chip">
<span class="sig-name descname"><span class="pre">erase_chip</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chipwhisperer.capture.targets.CW305.FPGASPI.erase_chip" title="Permalink to this definition">¶</a></dt>
<dd><p>Erase the whole SPI chip. Slow (~25s)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>timeout</strong> (<em>int</em>) – Timeout in ms. If None, set to 0xFFFFFFFF (approx 1000 hours)</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>IOError</strong> – Erase timed out</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chipwhisperer.capture.targets.CW305.FPGASPI.program">
<span class="sig-name descname"><span class="pre">program</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">addr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verify</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1000</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chipwhisperer.capture.targets.CW305.FPGASPI.program" title="Permalink to this definition">¶</a></dt>
<dd><p>Program (and optionally verify) the chip with data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>list</em>) – data to write</p></li>
<li><p><strong>addr</strong> (<em>int</em>) – Address to start programming from. Defaults to 0x00. Must align with a page.</p></li>
<li><p><strong>verify</strong> (<em>bool</em>) – If True, verify data written at end of full write. Defaults to True.</p></li>
<li><p><strong>timeout</strong> (<em>int</em>) – Timeout in ms for writes. If None, set to 0xFFFFFFFF (approx 1000 hours)
Defaults to 1000 (1s).</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>IOError</strong> – Verify failed or timeout</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chipwhisperer.capture.targets.CW305.FPGASPI.read">
<span class="sig-name descname"><span class="pre">read</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">length</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">addr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chipwhisperer.capture.targets.CW305.FPGASPI.read" title="Permalink to this definition">¶</a></dt>
<dd><p>Read data on the SPI chip</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>length</strong> (<em>int</em>) – Length of data to read</p></li>
<li><p><strong>addr</strong> (<em>int</em>) – Address to start read from. Must align with a page.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chipwhisperer.capture.targets.CW305.FPGASPI.set_cs_pin">
<span class="sig-name descname"><span class="pre">set_cs_pin</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">status</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chipwhisperer.capture.targets.CW305.FPGASPI.set_cs_pin" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the SPI pin high or low</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>status</strong> (<em>bool</em>) – Set CS pin high (True) or low (False)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chipwhisperer.capture.targets.CW305.FPGASPI.spi_tx_rx">
<span class="sig-name descname"><span class="pre">spi_tx_rx</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chipwhisperer.capture.targets.CW305.FPGASPI.spi_tx_rx" title="Permalink to this definition">¶</a></dt>
<dd><p>Write up to 64 bytes of data to the SPI chip</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>data</strong> (<em>list</em>) – Write data over the SPI interface</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – len(data) &gt; 64</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chipwhisperer.capture.targets.CW305.FPGASPI.verify">
<span class="sig-name descname"><span class="pre">verify</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">addr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chipwhisperer.capture.targets.CW305.FPGASPI.verify" title="Permalink to this definition">¶</a></dt>
<dd><p>Verify the data on the SPI chip</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>list</em>) – data to verify</p></li>
<li><p><strong>addr</strong> (<em>int</em>) – Address to start verification from. Defaults to 0x00. Must align with a page.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>IOError</strong> – Verify failed</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chipwhisperer.capture.targets.CW305.FPGASPI.wait_busy">
<span class="sig-name descname"><span class="pre">wait_busy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1000</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chipwhisperer.capture.targets.CW305.FPGASPI.wait_busy" title="Permalink to this definition">¶</a></dt>
<dd><p>Wait for the busy status on the FPGA to clear</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>timeout</strong> (<em>int</em>) – Timeout in ms. If None, set to 0xFFFFFFFF (approx 1000 hours)
Defaults to 1000 (1s).</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>IOError</strong> – Wait timed out</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="cw305-sam3u-io-control">
<span id="cw305-fpga-io"></span><h3>CW305 SAM3U IO Control<a class="headerlink" href="#cw305-sam3u-io-control" title="Permalink to this heading">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="chipwhisperer.capture.targets.CW305.FPGAIO">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">FPGAIO</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">usb</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">200</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chipwhisperer.capture.targets.CW305.FPGAIO" title="Permalink to this definition">¶</a></dt>
<dd><p>User IO to override external bus.</p>
<p>Allows you to use any pin on the SAM3U as a user IO. This includes pins
such as the external IO interface, and basically anything else you can find.</p>
<dl class="simple">
<dt>The pin names are strings, and come from one of three sources:</dt><dd><ul class="simple">
<li><p>SAM3U pin names, such as “PC11”, “PB9”, etc.</p></li>
<li><p>Net names from the CW305 schematic such as “USB_A20”.</p></li>
<li><p>The FPGA ball location that is connected to the SAM3U pin, such as “M2”.</p></li>
</ul>
</dd>
</dl>
<p>Any function taking a pin name assumes you pass a string with one of those. You
do not need to specify your source - it will autodetect the pin name (if possible).
The SAM3U pin names allow access to every pin, including those which are not actually
connected on the PCB itself.</p>
<p>Beyond simple GPIO toggling, a bit-banged SPI interface can be defined and connected
to any of the SAM3U pins. The bit-banged interface is done on the SAM3U microcontroller,
with a default SCK frequency of around 1.5 MHz. You can additionally define waitstates
to slow down this clock.</p>
<p>Basic usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">fpga</span> <span class="o">=</span> <span class="n">cw</span><span class="o">.</span><span class="n">target</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">cw</span><span class="o">.</span><span class="n">targets</span><span class="o">.</span><span class="n">CW305</span><span class="p">)</span>
<span class="n">io</span> <span class="o">=</span> <span class="n">target</span><span class="o">.</span><span class="n">gpio_mode</span><span class="p">()</span>

<span class="c1"># Take over the SAM3U blue LED (normally controlled by firmware, won&#39;t be after this)</span>
<span class="kn">import</span> <span class="nn">time</span>
<span class="n">io</span><span class="o">.</span><span class="n">pin_set_output</span><span class="p">(</span><span class="s2">&quot;LED_BLUE&quot;</span><span class="p">)</span>
<span class="n">io</span><span class="o">.</span><span class="n">pin_set_state</span><span class="p">(</span><span class="s2">&quot;LED_BLUE&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span>
<span class="n">io</span><span class="o">.</span><span class="n">pin_set_state</span><span class="p">(</span><span class="s2">&quot;LED_BLUE&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

<span class="c1"># Example - toggle pin associated with FPGA pin C1 (would be USB_A11)</span>
<span class="kn">import</span> <span class="nn">time</span>
<span class="n">io</span><span class="o">.</span><span class="n">pin_set_output</span><span class="p">(</span><span class="s2">&quot;C1&quot;</span><span class="p">)</span>
<span class="n">io</span><span class="o">.</span><span class="n">pin_set_state</span><span class="p">(</span><span class="s2">&quot;C1&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.1</span><span class="p">)</span>
<span class="n">io</span><span class="o">.</span><span class="n">pin_set_state</span><span class="p">(</span><span class="s2">&quot;C1&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

<span class="c1"># Setup a SPI interface based on schematic net names</span>
<span class="n">io</span><span class="o">.</span><span class="n">spi1_setpins</span><span class="p">(</span><span class="n">sdo</span><span class="o">=</span><span class="s2">&quot;USB_A20&quot;</span><span class="p">,</span> <span class="n">sdi</span><span class="o">=</span><span class="s2">&quot;USB_A19&quot;</span><span class="p">,</span> <span class="n">sck</span><span class="o">=</span><span class="s2">&quot;USB_A18&quot;</span><span class="p">,</span> <span class="n">cs</span><span class="o">=</span><span class="s2">&quot;USB_A17&quot;</span><span class="p">)</span>
<span class="n">io</span><span class="o">.</span><span class="n">spi1_enable</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>

<span class="n">somedata</span> <span class="o">=</span> <span class="p">[</span><span class="mh">0x11</span><span class="p">,</span> <span class="mh">0x22</span><span class="p">,</span> <span class="mh">0x33</span><span class="p">]</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">io</span><span class="o">.</span><span class="n">spi1_transfer</span><span class="p">(</span><span class="n">somedata</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
</pre></div>
</div>
<dl class="simple">
<dt>If you want to see all possible pin names, you can access them with:</dt><dd><p>io.SAM3U_PIN_NAMES.keys()
io.SCHEMATIC_PIN_NAMES.keys()
io.FPGA_PIN_NAMES.keys()</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="chipwhisperer.capture.targets.CW305.FPGAIO.pin_name_to_number">
<span class="sig-name descname"><span class="pre">pin_name_to_number</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pinname</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chipwhisperer.capture.targets.CW305.FPGAIO.pin_name_to_number" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert from a user-friendly pin name to the number.</p>
<p>This function can be passed a name from the schematic (such as “USB_A20”),
a name from the SAM3U peripherals (such as “PB22”), or a FPGA pin location
(such as “M2”). It will attempt to auto-detect which one you passed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>pinname</strong> (<em>str</em>) – Name such as “PB22”, “USB_A20”, or “M2”.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chipwhisperer.capture.targets.CW305.FPGAIO.pin_set_output">
<span class="sig-name descname"><span class="pre">pin_set_output</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pinname</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chipwhisperer.capture.targets.CW305.FPGAIO.pin_set_output" title="Permalink to this definition">¶</a></dt>
<dd><p>Set a given pin as an output.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>pinname</strong> (<em>str</em>) – Name such as “PB22”, “USB_A20”, or “M2”.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chipwhisperer.capture.targets.CW305.FPGAIO.pin_set_state">
<span class="sig-name descname"><span class="pre">pin_set_state</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pinname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">state</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chipwhisperer.capture.targets.CW305.FPGAIO.pin_set_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the state of a pin (must have been set as output previously).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pinname</strong> (<em>str</em>) – Name such as “PB22”, “USB_A20”, or “M2”.</p></li>
<li><p><strong>state</strong> (<em>bool</em>) – Set pin high (True) or low (False)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chipwhisperer.capture.targets.CW305.FPGAIO.spi1_enable">
<span class="sig-name descname"><span class="pre">spi1_enable</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">enable</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">waitcycles</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chipwhisperer.capture.targets.CW305.FPGAIO.spi1_enable" title="Permalink to this definition">¶</a></dt>
<dd><p>Enable or disable the SPI interface.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>enable</strong> (<em>bool</em>) – Enable (True) or disable (False) SPI interface</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chipwhisperer.capture.targets.CW305.FPGAIO.spi1_set_cs_pin">
<span class="sig-name descname"><span class="pre">spi1_set_cs_pin</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">status</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chipwhisperer.capture.targets.CW305.FPGAIO.spi1_set_cs_pin" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the SPI pin high or low.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>status</strong> (<em>bool</em>) – Set CS pin high (True) or low (False)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chipwhisperer.capture.targets.CW305.FPGAIO.spi1_setpins">
<span class="sig-name descname"><span class="pre">spi1_setpins</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sdo</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sdi</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sck</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chipwhisperer.capture.targets.CW305.FPGAIO.spi1_setpins" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the pins to be used for the SPI1 interface.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sdo</strong> (<em>str</em>) – Serial Data Out (output from SAM3U) pin name such as “PB22”, “USB_A20”, or “M2”.</p></li>
<li><p><strong>sdi</strong> (<em>str</em>) – Serial Data In (input to SAM3U) pin name such as “PB22”, “USB_A20”, or “M2”.</p></li>
<li><p><strong>sck</strong> (<em>str</em>) – Serial Clock (output from SAM3U) pin name such as “PB22”, “USB_A20”, or “M2”.</p></li>
<li><p><strong>cs</strong> (<em>str</em>) – Chip Select (output from SAM3U) name such as “PB22”, “USB_A20”, or “M2”.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chipwhisperer.capture.targets.CW305.FPGAIO.spi1_transfer">
<span class="sig-name descname"><span class="pre">spi1_transfer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chipwhisperer.capture.targets.CW305.FPGAIO.spi1_transfer" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes data, dropping CS before and raising after, returns read data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>data</strong> (<em>list</em>) – Write data over the SPI interface</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="chipwhisperer.capture.targets.CW305.FPGAIO.spi1_tx_rx">
<span class="sig-name descname"><span class="pre">spi1_tx_rx</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chipwhisperer.capture.targets.CW305.FPGAIO.spi1_tx_rx" title="Permalink to this definition">¶</a></dt>
<dd><p>Write up to 64 bytes of data to the SPI interface (no CS action).</p>
<p>This is a low-level function that performs a single transfer. Does not
affect the CS pin.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>data</strong> (<em>list</em>) – Write data over the SPI interface</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – len(data) &gt; 64</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
</section>
<section id="serial-target-programming">
<span id="api-target-program"></span><h2>Serial Target Programming<a class="headerlink" href="#serial-target-programming" title="Permalink to this heading">¶</a></h2>
<p>ChipWhisperer includes built in bootloaders for STM32F, XMEGA, and AVR
target boards.  These bootloaders can be accessed via the
<a class="reference internal" href="#chipwhisperer.program_target" title="chipwhisperer.program_target"><code class="xref py py-func docutils literal notranslate"><span class="pre">chipwhisperer.program_target()</span></code></a> function. There are multiple programmer
types available:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">programmers.STM32FProgrammer</span></code></p></li>
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">programmers.XMEGAProgrammer</span></code></p></li>
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">programmers.AVRProgrammer</span></code></p></li>
</ul>
</div></blockquote>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">chipwhisperer</span> <span class="k">as</span> <span class="nn">cw</span>
<span class="c1"># ...scope setup, firmware build, etc</span>

<span class="n">cw</span><span class="o">.</span><span class="n">program_target</span><span class="p">(</span><span class="n">scope</span><span class="p">,</span> <span class="n">cw</span><span class="o">.</span><span class="n">programmers</span><span class="o">.</span><span class="n">STM32FProgrammer</span><span class="p">,</span> <span class="s2">&quot;/path/to/firmware.hex&quot;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="py function">
<dt class="sig sig-object py" id="chipwhisperer.program_target">
<span class="sig-name descname"><span class="pre">program_target</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scope</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prog_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fw_path</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#chipwhisperer.program_target" title="Permalink to this definition">¶</a></dt>
<dd><p>Program the target using the programmer &lt;type&gt;</p>
<p>Programmers can be found in the programmers submodule</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>scope</strong> (<em>ScopeTemplate</em>) – Connected scope object to use for programming</p></li>
<li><p><strong>prog_type</strong> (<em>Programmer</em>) – Programmer to use. See chipwhisperer.programmers
for available programmers</p></li>
<li><p><strong>fw_path</strong> (<em>str</em>) – Path to hex file to program</p></li>
</ul>
</dd>
</dl>
<div class="versionadded">
<p><span class="versionmodified added">New in version 5.0.1: </span>Simplified programming target</p>
</div>
</dd></dl>

</section>
</section>


          </div>
          
        </div>
      </div>
    <div class="clearer"></div>
  </div>
    <div class="footer">
      &copy;2023, NewAE Technology Inc..
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 5.0.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/target-api.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    
    <a href="https://github.com/newaetech/chipwhisperer" class="github">
        <img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub"  class="github"/>
    </a>
    

    
  </body>
</html>